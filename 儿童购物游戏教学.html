<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å„¿ç«¥è´­ç‰©æ¸¸æˆæ•™å­¦ç½‘ç«™</title>
    <style>
        body {
            font-family: "Arial Rounded MT Bold", "Microsoft YaHei", sans-serif;
            background: #fff8af; 
            margin: 0;
            padding: 0;
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

         .container {
            /* ä½¿ç”¨å›ºå®šå®½åº¦å’Œé«˜åº¦ */
            width: 1200px;
            height: 1300px;
            margin: 20px auto;
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            text-align: center;
            box-sizing: border-box; /* ç¡®ä¿ padding å’Œ border åŒ…å«åœ¨å…ƒç´ çš„å®½åº¦å’Œé«˜åº¦å†… */
        }

        h1 {
            color: rgb(0, 0, 0);
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #4d96ff;
            font-size: 2rem;
            margin-bottom: 15px;
        }

        p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .button {
            background-color: #4d96ff;
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 30px;
            font-size: 1.2rem;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .button:hover {
            background-color: #3a7bd5;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .image-container {
            margin: 20px 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
            border-radius: 10px;
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .option {
            background-color: white;
            border: 3px solid #4d96ff;
            border-radius: 15px;
            padding: 15px;
            width: 200px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .option img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            margin-bottom: 10px;
            border-radius: 10px;
        }

        .hidden {
            display: none;
        }

        .feedback {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 20px 0;
        }

        .correct {
            color: #2ecc71;
        }

        .incorrect {
            color: #e74c3c;
        }

        .audio-control {
            margin: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .speech-control {
            background-color: #ffb440;
            color: white;
            border: none;
            border-radius: 50px;
            padding: 10px 20px;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s ease;
        }

        .speech-control:hover {
            background-color: #ff9500;
        }

        .speech-status {
            margin-left: 10px;
            font-size: 0.9rem;
            color: #666;
        }

        .video-container {
           position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 60%; 
            border-radius: 15px;
            overflow: hidden;           
        }
         .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* ä¿æŒè§†é¢‘æ¯”ä¾‹å¹¶è¦†ç›–å®¹å™¨ */
        }
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
        }

        .character {
             width: 150px;           /* æ§åˆ¶å®½åº¦ */
            height: 150px;          /* æ§åˆ¶é«˜åº¦ */
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.3s ease;
            margin: 10px;
            border: 4px solid transparent;
            border-radius: 50%;
        }

        .character:hover {
            transform: scale(1.1);
        }

        .character.selected {
            border-color: #ff6b6b;
        }

        .shop-section {
            border: 2px solid #4d96ff;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        .items-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center; /* æ°´å¹³å±…ä¸­ */
            align-items: center; /* å‚ç›´å±…ä¸­ */
            gap: 15px;
            margin: 20px 0;
        }        
        .item {
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 0 0 calc(25% - 15px); /* æ¯è¡Œæ˜¾ç¤º 4 ä¸ªå•†å“ï¼Œå¯æŒ‰éœ€è°ƒæ•´ */
            max-width: 150px; /* é™åˆ¶å•†å“é¡¹çš„æœ€å¤§å®½åº¦ */
        }

        .item:hover {
            border-color: #4d96ff;
            transform: translateY(-5px);
        }

        .item img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            display: block;
            margin: 0 auto;
        }

        .item.selected {
            border-color: #ff6b6b;
            background-color: #fff0f0;
        }

        .payment-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 15px;
            margin: 10px;
        }

        .back-button {
            position: absolute;
            top: 60px;
            left: calc(150px + 80px);
            background-color: #4d96ff;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1001; /* è®¾ç½®æ¯”ç›®å½•æ æ›´é«˜çš„ z-index å€¼ */
        }

        .back-button:hover {
            background-color: #3a7bd5;
        }

        /* æ–°å¢æ•™å¸ˆæ§åˆ¶ä¸‹ä¸€æ­¥æŒ‰é’®æ ·å¼ */
        .teacher-next-button {
            position: absolute;
            top: 60px;
            right: 80px;
            background-color: #4d96ff;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
             z-index: 1001; /* è®¾ç½®æ¯”ç›®å½•æ æ›´é«˜çš„ z-index å€¼ */
        }

        .teacher-next-button:hover {
            background-color: #3a7bd5;
        }

        /* æ–°å¢ç°é‡‘çº¸å¸å›¾ç‰‡æ ·å¼ */
         .money-images {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap; /* å…è®¸å…ƒç´ æ¢è¡Œ */
        }

        .money-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 10px;
            max-width: 180px; /* é™åˆ¶æ¯ä¸ªé’±å¸é€‰é¡¹çš„æœ€å¤§å®½åº¦ */
        }

       .money-images img {
            width: 200px; /* ç»Ÿä¸€å®½åº¦ */
            height: 150px; /* ç»Ÿä¸€é«˜åº¦ */
            object-fit: contain; /* ä¿æŒå›¾ç‰‡æ¯”ä¾‹ï¼Œå®Œæ•´æ˜¾ç¤ºåœ¨å®¹å™¨å†… */
            border-radius: 10px;
            background-color: #f0f0f0; /* å¯æ·»åŠ èƒŒæ™¯è‰²å¡«å……ç©ºç™½åŒºåŸŸ */
        }

        .money-controls {
            display: flex;
            flex-direction: row; 
            align-items: center;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: nowrap; /* é˜²æ­¢æŒ‰é’®æ¢è¡Œ */
            justify-content: center; /* æŒ‰é’®å±…ä¸­ */
        }

        .money-controls button {
            font-size: 2rem; 
            width: 40px; /* é€‚å½“å‡å°æŒ‰é’®å®½åº¦ */
            height: 40px; /* é€‚å½“å‡å°æŒ‰é’®é«˜åº¦ */
            border: 1px solid #ccc; 
            border-radius: 50%; 
            cursor: pointer; 
            background-color: #f0f0f0; 
            transition: background-color 0.3s ease; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            padding: 0; 
        }
        .remove-item-button {
            width: 40px; /* å¢å¤§æŒ‰é’®å®½åº¦ */
            height: 40px; /* å¢å¤§æŒ‰é’®é«˜åº¦ */
            border-radius: 50%; /* ä½¿æŒ‰é’®å‘ˆåœ†å½¢ */
            background-color: #6bc1ff; /* è®¾ç½®èƒŒæ™¯é¢œè‰² */
            color: white; /* è®¾ç½®æ–‡å­—é¢œè‰² */
            border: none; /* å»é™¤è¾¹æ¡† */
            font-size: 1.5rem; /* å¢å¤§å­—ä½“å¤§å° */
            cursor: pointer; /* é¼ æ ‡æ‚¬åœæ˜¾ç¤ºæŒ‡é’ˆ */
            transition: all 0.3s ease; /* æ·»åŠ è¿‡æ¸¡æ•ˆæœ */
        }

        .remove-item-button:hover {
            background-color: #6bc1ff; /* é¼ æ ‡æ‚¬åœæ—¶æ”¹å˜èƒŒæ™¯é¢œè‰² */
            transform: scale(1.1); /* é¼ æ ‡æ‚¬åœæ—¶æ”¾å¤§æŒ‰é’® */
        }

        /* æ–°å¢ç›®å½•æ æ ·å¼ */
         .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            width: 150px; /* å‡å°ç›®å½•æ å®½åº¦ï¼ŒåŸ 200px */
            background-color: #fff;
            overflow-y: auto;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
            padding: 15px; /* é€‚å½“å‡å°å†…è¾¹è· */
            z-index: 1000;
            border-right: 1px solid #ddd;
        }

        .sidebar ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .sidebar li {
            margin-bottom: 10px;
        }

        .sidebar a {
            display: block;
            padding: 10px;
            color: #333;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        .sidebar a:hover {
            background-color: #f0f0f0;
        }

        .sidebar .main-category {
            font-weight: bold;
            cursor: pointer;
        }

        .sidebar .sub-category {
            padding-left: 20px;
            display: none;
        }

        .sidebar .toggle-btn {
            margin-right: 5px;
        }

        /* è°ƒæ•´ä¸»ä½“å†…å®¹çš„å·¦è¾¹è·ï¼Œé¿å…è¢«ç›®å½•æ é®æŒ¡ */
        body {
            display: flex;
            margin: 0;
            background-color: #fff8af; /* è®¾ç½®é¡µé¢èƒŒæ™¯è‰² */
        }

        /* åŒ…å«æ‰€æœ‰å†…å®¹å®¹å™¨çš„ wrapper */
        .main-content-wrapper {
            flex: 1;
            padding-left: 160px; /* å¯¹åº”ç›®å½•æ å®½åº¦è°ƒæ•´ï¼Œä¿è¯åˆé€‚é—´è· */
            padding-top: 20px;
        }
        .fixed-shopping-cart {
            position: fixed;
            right: 20px;
            bottom: 20px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 15px;
            width: 300px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
        }

        .fixed-shopping-cart h3 {
            margin-top: 0;
            margin-bottom: 10px;
        }

        .fixed-shopping-cart .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .fixed-shopping-cart .cart-total {
            font-weight: bold;
            margin-top: 10px;
            text-align: right;
        }
    </style>
</head>
<body>
    <!-- æ–°å¢ç›®å½•æ  -->
    <div class="sidebar">
        <ul>
            <li>
                <a class="main-category" onclick="toggleSubCategories(this)">æ¬¢è¿é¡µé¢ <span class="toggle-btn">â–¼</span></a>
                <ul class="sub-category">
                    <li><a href="#" onclick="showPage('welcome')">æ¬¢è¿é¡µé¢</a></li>
                </ul>
            </li>
            <li>
                <a class="main-category" onclick="toggleSubCategories(this)">äººæ°‘å¸æ•™å­¦ <span class="toggle-btn">â–¼</span></a>
                <ul class="sub-category">
                    <li><a href="#" onclick="showPage('money-1-yuan')">1å…ƒäººæ°‘å¸è¯†åˆ«</a></li>
                    <li><a href="#" onclick="showPage('money-5-yuan')">5å…ƒäººæ°‘å¸è¯†åˆ«</a></li>
                    <li><a href="#" onclick="showPage('money-10-yuan')">10å…ƒäººæ°‘å¸è¯†åˆ«</a></li>
                    <li><a href="#" onclick="showPage('money-20-yuan')">20å…ƒäººæ°‘å¸è¯†åˆ«</a></li>
                    <li><a href="#" onclick="showPage('money-50-yuan')">50å…ƒäººæ°‘å¸è¯†åˆ«</a></li>
                </ul>
            </li>
            <li>
                <a class="main-category" onclick="toggleSubCategories(this)">çº¿ä¸Šæ”¯ä»˜æ•™å­¦ <span class="toggle-btn">â–¼</span></a>
                <ul class="sub-category">
                    <li><a href="#" onclick="showPage('online-payment-1')">çº¿ä¸Šæ”¯ä»˜æ•™å­¦ç¬¬1æ­¥</a></li>
                    <li><a href="#" onclick="showPage('online-payment-2')">çº¿ä¸Šæ”¯ä»˜æ•™å­¦ç¬¬2æ­¥</a></li>
                    <li><a href="#" onclick="showPage('online-payment-3')">çº¿ä¸Šæ”¯ä»˜æ•™å­¦ç¬¬3æ­¥</a></li>
                    <li><a href="#" onclick="showPage('online-payment-4')">çº¿ä¸Šæ”¯ä»˜æ•™å­¦ç¬¬4æ­¥</a></li>
                    <li><a href="#" onclick="showPage('online-payment-5')">çº¿ä¸Šæ”¯ä»˜æ•™å­¦ç¬¬5æ­¥</a></li>
                </ul>
            </li>
            <li>
                <a class="main-category" onclick="toggleSubCategories(this)">å¯¼è§ˆè§’è‰²é€‰æ‹© <span class="toggle-btn">â–¼</span></a>
                <ul class="sub-category">
                    <li><a href="#" onclick="showPage('character-selection')">é€‰æ‹©å¯¼è§ˆè§’è‰²</a></li>
                    <li><a href="#" onclick="showPage('character-video')">è§’è‰²è§†é¢‘æ’­æ”¾</a></li>
                </ul>
            </li>
            <li>
                <a class="main-category" onclick="toggleSubCategories(this)">è´­ç‰©ç¯èŠ‚ <span class="toggle-btn">â–¼</span></a>
                <ul class="sub-category">
                    <li><a href="#" onclick="showPage('product-recognition')">è¯†åˆ«å•†å“</a></li>
                    <li><a href="#" onclick="showPage('fruit-section')">æ°´æœåŒº</a></li>
                    <li><a href="#" onclick="showPage('snack-section')">é›¶é£ŸåŒº</a></li>
                    <li><a href="#" onclick="showPage('stationery-section')">å­¦ä¹ ç”¨å“åŒº</a></li>
                    <li><a href="#" onclick="showPage('shopping-cart-section')">è´­ç‰©è½¦</a></li>
                    <li><a href="#" onclick="showPage('video-intermediate')">å‰å¾€æ”¶é“¶å°</a></li>
                </ul>
            </li>
            <li>
                <a class="main-category" onclick="toggleSubCategories(this)">æ”¯ä»˜ç¯èŠ‚ <span class="toggle-btn">â–¼</span></a>
                <ul class="sub-category">
                    <li><a href="#" onclick="showPage('cash-payment')">ç°é‡‘æ”¯ä»˜</a></li>
                    <li><a href="#" onclick="showPage('online-payment-confirm-1')">çº¿ä¸Šæ”¯ä»˜ç¡®è®¤1</a></li>
                    <li><a href="#" onclick="showPage('online-payment-confirm-2')">çº¿ä¸Šæ”¯ä»˜ç¡®è®¤2</a></li>
                    <li><a href="#" onclick="showPage('online-payment-confirm-3')">çº¿ä¸Šæ”¯ä»˜ç¡®è®¤3</a></li>
                    <li><a href="#" onclick="showPage('online-payment-confirm-4')">çº¿ä¸Šæ”¯ä»˜ç¡®è®¤4</a></li>
                    <li><a href="#" onclick="showPage('online-payment-confirm-5')">çº¿ä¸Šæ”¯ä»˜ç¡®è®¤5</a></li>
                </ul>
            </li>
            <li>
                <a class="main-category" onclick="toggleSubCategories(this)">å¥–åŠ±ç¯èŠ‚ <span class="toggle-btn">â–¼</span></a>
                <ul class="sub-category">
                    <li><a href="#" onclick="showPage('reward')">å¥–åŠ±é¡µé¢</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <!-- æ–°å¢ä¸»å†…å®¹åŒ…è£¹å®¹å™¨ -->
    <div class="main-content-wrapper">
    <!-- æ–°å¢å›ºå®šè´­ç‰©è½¦åˆ—è¡¨ -->
    <div class="fixed-shopping-cart">
        <h3>è´­ç‰©è½¦</h3>
        <div id="fixed-cart-items"></div>
        <div class="cart-total">æ€»ä»·: <span id="fixed-cart-total">0</span> å…ƒ</div>
    </div>
    <!-- æ–°å¢æ•™å¸ˆæ§åˆ¶ä¸‹ä¸€æ­¥æŒ‰é’® -->
    <button class="teacher-next-button" onclick="teacherNextPage()" style="display: none;">â†’</button>
        <!-- æ¬¢è¿é¡µé¢ -->
        <div id="welcome" class="container">
            <button class="back-button" onclick="goBack()" style="display: none;">â†</button>
            <h1>æ¬¢è¿æ¥åˆ°å„¿ç«¥è´­ç‰©æ¸¸æˆæ•™å­¦</h1>
            <p data-speech="æ¬¢è¿æ¥åˆ°å„¿ç«¥è´­ç‰©æ¸¸æˆæ•™å­¦ï¼">æ¬¢è¿æ¥åˆ°å„¿ç«¥è´­ç‰©æ¸¸æˆæ•™å­¦ï¼</p>
            <div class="image-container welcome-container">
                <img src="https://i.imgur.com/iswmI5n.jpeg" alt="æ¬¢è¿å›¾ç‰‡">
            </div>
            <p data-speech="äº²çˆ±çš„å°æœ‹å‹ï¼Œæˆ‘ä»¬å°†ä¸€èµ·å­¦ä¹ å¦‚ä½•è´­ç‰©ï¼">äº²çˆ±çš„å°æœ‹å‹ï¼Œæˆ‘ä»¬å°†ä¸€èµ·å­¦ä¹ å¦‚ä½•è´­ç‰©ï¼</p>
            <p data-speech="ä½ å°†ä¼šå­¦ä¹ è®¤è¯†äººæ°‘å¸ã€å­¦ä¼šæ”¯ä»˜ã€æŒ‘é€‰å•†å“ï¼Œæœ€åæˆåŠŸè´­ç‰©ï¼">ä½ å°†ä¼šå­¦ä¹ è®¤è¯†äººæ°‘å¸ã€å­¦ä¼šæ”¯ä»˜ã€æŒ‘é€‰å•†å“ï¼Œæœ€åæˆåŠŸè´­ç‰©ï¼</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('welcome')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="welcome-status"></span>
            </div>

            <!-- è¯­éŸ³è®¾ç½®é¢æ¿ -->
            <div class="voice-settings">
                <h3>è¯­éŸ³è®¾ç½®</h3>
                <div class="voice-selector">
                    <label for="voice-select">é€‰æ‹©è¯­éŸ³ï¼š</label>
                    <select id="voice-select" onchange="changeVoice()"></select>
                </div>
                <div class="control-panel">
                    <label for="rate">è¯­é€Ÿï¼š</label>
                    <input type="range" id="rate" min="0.5" max="2" value="1" step="0.1" onchange="updateSpeechRate()">
                    <span id="rate-value">1</span>
                </div>
                <div class="control-panel">
                    <label for="pitch">éŸ³è°ƒï¼š</label>
                    <input type="range" id="pitch" min="0.5" max="2" value="1" step="0.1" onchange="updateSpeechPitch()">
                    <span id="pitch-value">1</span>
                </div>
                <button class="ai-voice-toggle" id="ai-voice-btn" onclick="toggleAIVoice()">AIè¯­éŸ³ï¼šå¼€å¯</button>
            </div>

            <button class="button" onclick="startLearning()">å¼€å§‹å­¦ä¹ </button>
        </div>

        <!-- 1å…ƒäººæ°‘å¸è¯†åˆ«é¡µé¢ -->
        <div id="money-1-yuan" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>è®¤è¯†1å…ƒäººæ°‘å¸</h2>
            <div class="image-container">
                <img src="https://n.sinaimg.cn/translate/26/w820h806/20190830/8c33-icxmqsv3779747.jpg" alt="1å…ƒäººæ°‘å¸ "width="300" height="200" style="margin: 0 auto; display: block;">
            </div>
            <p data-speech="è¿™æ˜¯1å…ƒäººæ°‘å¸ï¼Œå®ƒçš„é¢œè‰²æ˜¯è“ç»¿è‰²çš„ï¼Œå®ƒçš„èƒŒé¢æ˜¯ä¸‰æ½­æ˜ æœˆ">è¿™æ˜¯1å…ƒäººæ°‘å¸ï¼Œå®ƒçš„é¢œè‰²æ˜¯è“ç»¿è‰²çš„ï¼Œå®ƒçš„èƒŒé¢æ˜¯ä¸‰æ½­æ˜ æœˆã€‚</p>
            <p data-speech="1å…ƒäººæ°‘å¸ä¸Šæœ‰1ä¸ªæ•°å­—1ï¼Œä»£è¡¨å®ƒçš„é¢å€¼æ˜¯1å…ƒã€‚">1å…ƒäººæ°‘å¸ä¸Šæœ‰1ä¸ªæ•°å­—â€œ1â€ï¼Œä»£è¡¨å®ƒçš„é¢å€¼æ˜¯1å…ƒã€‚</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('money-1-yuan')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="money-1-yuan-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼šç°åœ¨è¯·èªæ˜çš„å°æœ‹å‹ä»¬å‘Šè¯‰æˆ‘ï¼Œè¿™æ˜¯å‡ å…ƒé’±å‘¢ï¼Ÿ">å°é—®é¢˜ï¼šç°åœ¨è¯·èªæ˜çš„å°æœ‹å‹ä»¬å‘Šè¯‰æˆ‘ï¼Œè¿™æ˜¯å‡ å…ƒé’±å‘¢ï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('money-1-yuan', true)" data-speech="1å…ƒ">1å…ƒ</button>
                <button class="button" onclick="checkAnswer('money-1-yuan', false)" data-speech="2å…ƒ">2å…ƒ</button>
            </div>

            <div id="money-1-yuan-feedback" class="feedback hidden" data-speech=""></div>

            <button id="money-1-yuan-next" class="button hidden" onclick="nextPage('money-1-yuan', 'money-5-yuan')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- 5å…ƒäººæ°‘å¸è¯†åˆ«é¡µé¢ -->
        <div id="money-5-yuan" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>è®¤è¯†5å…ƒäººæ°‘å¸</h2>
            <div class="image-container">
                <img src="https://i.pinimg.com/736x/e9/06/6c/e9066cb40fe341ba6337a2436fb82768.jpg" alt="5å…ƒäººæ°‘å¸" width="300" height="200" style="margin: 0 auto; display: block;">
            </div>
            <p data-speech="è¿™æ˜¯5å…ƒäººæ°‘å¸ï¼Œå®ƒçš„é¢œè‰²æ˜¯ç´«çº¢è‰²çš„ï¼Œå®ƒçš„èƒŒé¢æœ‰æ³°å±±æ—¥è§‚å³°ã€‚">è¿™æ˜¯5å…ƒäººæ°‘å¸ï¼Œå®ƒçš„é¢œè‰²æ˜¯ç´«çº¢è‰²çš„ï¼Œå®ƒçš„èƒŒé¢æœ‰æ³°å±±æ—¥è§‚å³°ã€‚</p>
            <p data-speech="5å…ƒäººæ°‘å¸ä¸Šæœ‰ä¸€ä¸ªå¤§å¤§çš„æ•°å­—5ï¼Œä»£è¡¨å®ƒçš„é¢å€¼æ˜¯5å…ƒã€‚">5å…ƒäººæ°‘å¸ä¸Šæœ‰ä¸€ä¸ªå¤§å¤§çš„æ•°å­—"5"ï¼Œä»£è¡¨å®ƒçš„é¢å€¼æ˜¯5å…ƒã€‚</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('money-5-yuan')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="money-5-yuan-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼šè¿™å¼ é’±çš„é¢œè‰²æ˜¯ä»€ä¹ˆï¼Ÿ">å°é—®é¢˜ï¼šè¿™å¼ é’±çš„é¢œè‰²æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('money-5-yuan', false)" data-speech="è“è‰²">è“è‰²</button>
                <button class="button" onclick="checkAnswer('money-5-yuan', true)" data-speech="ç´«çº¢è‰²">ç´«çº¢è‰²</button>
            </div>

            <div id="money-5-yuan-feedback" class="feedback hidden" data-speech=""></div>

            <button id="money-5-yuan-next" class="button hidden" onclick="nextPage('money-5-yuan', 'money-10-yuan')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- 10å…ƒäººæ°‘å¸è¯†åˆ«é¡µé¢ -->
        <div id="money-10-yuan" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>è®¤è¯†10å…ƒäººæ°‘å¸</h2>
            <div class="image-container">
                <img src="https://i.imgur.com/OGdf3fY.png" alt="10å…ƒäººæ°‘å¸" width="300" height="200" style="margin: 0 auto; display: block;">
            </div>
            <p data-speech="è¿™æ˜¯10å…ƒäººæ°‘å¸ï¼Œå®ƒçš„é¢œè‰²æ˜¯è“è‰²çš„ï¼Œå®ƒçš„èƒŒé¢æ˜¯å¤”é—¨ï¼Œæ˜¯é•¿æ±Ÿä¸‰å³¡çš„è¥¿å¤§é—¨ã€‚">è¿™æ˜¯10å…ƒäººæ°‘å¸ï¼Œå®ƒçš„é¢œè‰²æ˜¯è“è‰²çš„ï¼Œå®ƒçš„èƒŒé¢æ˜¯å¤”é—¨ï¼Œæ˜¯é•¿æ±Ÿä¸‰å³¡çš„è¥¿å¤§é—¨ã€‚</p>
            <p data-speech="10å…ƒäººæ°‘å¸ä¸Šæœ‰ä¸€ä¸ªæ•°å­—10ï¼Œä»£è¡¨å®ƒçš„é¢å€¼æ˜¯10å…ƒã€‚">10å…ƒäººæ°‘å¸ä¸Šæœ‰ä¸€ä¸ªæ•°å­—"10"ï¼Œä»£è¡¨å®ƒçš„é¢å€¼æ˜¯10å…ƒã€‚</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('money-10-yuan')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="money-10-yuan-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼š10å…ƒäººæ°‘å¸å¤Ÿä¹°å¤šå°‘ä¸ª1å…ƒçš„ä¸œè¥¿ï¼Ÿ">å°é—®é¢˜ï¼š10å…ƒäººæ°‘å¸å¤Ÿä¹°å¤šå°‘ä¸ª1å…ƒçš„ä¸œè¥¿ï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('money-10-yuan', false)" data-speech="5ä¸ª">5ä¸ª</button>
                <button class="button" onclick="checkAnswer('money-10-yuan', true)" data-speech="10ä¸ª">10ä¸ª</button>
            </div>

            <div id="money-10-yuan-feedback" class="feedback hidden" data-speech=""></div>

            <button id="money-10-yuan-next" class="button hidden" onclick="nextPage('money-10-yuan', 'money-20-yuan')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- 20å…ƒäººæ°‘å¸è¯†åˆ«é¡µé¢ -->
        <div id="money-20-yuan" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>è®¤è¯†20å…ƒäººæ°‘å¸</h2>
            <div class="image-container">
                <img src="https://th.bing.com/th/id/OIP.s1xq2J4pKhl6NqCk_eLnIQHaHP?pid=ImgDet&w=474&h=463&rs=1" alt="20å…ƒäººæ°‘å¸" width="300" height="200" style="margin: 0 auto; display: block;">
            </div>
            <p data-speech="è¿™æ˜¯20å…ƒäººæ°‘å¸ï¼Œå®ƒçš„é¢œè‰²æ˜¯æ£•è‰²çš„ï¼Œå®ƒçš„èƒŒé¢æ˜¯è‘—åçš„æ¡‚æ—å±±æ°´ã€‚">è¿™æ˜¯20å…ƒäººæ°‘å¸ï¼Œå®ƒçš„é¢œè‰²æ˜¯æ£•è‰²çš„ï¼Œå®ƒçš„èƒŒé¢æ˜¯è‘—åçš„æ¡‚æ—å±±æ°´ã€‚</p>
            <p data-speech="20å…ƒäººæ°‘å¸ä¸Šæœ‰ä¸€ä¸ªæ•°å­—20ï¼Œä»£è¡¨å®ƒçš„é¢å€¼æ˜¯20å…ƒã€‚">20å…ƒäººæ°‘å¸ä¸Šæœ‰ä¸€ä¸ªæ•°å­—"20"ï¼Œä»£è¡¨å®ƒçš„é¢å€¼æ˜¯20å…ƒã€‚</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('money-20-yuan')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="money-20-yuan-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼šå°æœ‹å‹ï¼Œè®©æˆ‘æ¥è€ƒè€ƒä½ ï¼Œ20å…ƒäººæ°‘å¸èƒŒé¢æ˜¯ä»€ä¹ˆé£æ™¯ï¼Ÿ">å°é—®é¢˜ï¼šå°æœ‹å‹ï¼Œè®©æˆ‘æ¥è€ƒè€ƒä½ ï¼Œ20å…ƒäººæ°‘å¸èƒŒé¢æ˜¯ä»€ä¹ˆé£æ™¯ï¼Ÿï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('money-20-yuan', true)" data-speech="æ¡‚æ—å±±æ°´">æ¡‚æ—å±±æ°´</button>
                <button class="button" onclick="checkAnswer('money-20-yuan', false)" data-speech="è¥¿æ¹–">è¥¿æ¹–</button>
            </div>

            <div id="money-20-yuan-feedback" class="feedback hidden" data-speech=""></div>

            <button id="money-20-yuan-next" class="button hidden" onclick="nextPage('money-20-yuan', 'money-50-yuan')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- 50å…ƒäººæ°‘å¸è¯†åˆ«é¡µé¢ -->
        <div id="money-50-yuan" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>è®¤è¯†50å…ƒäººæ°‘å¸</h2>
            <div class="image-container">
                <img src="https://lh3.googleusercontent.com/proxy/YilCoOvHVhmfX_OlmshoAOYKh9942pEr0nwbh-GWMudGs5T4O0zgtLmneVbkHAQi4FzNrZfgIqtNukRWQRFbuVWzrEPSyK77hlQYq_3GVlQBVY_GWaB4Up2XDcI" alt="50å…ƒäººæ°‘å¸" width="300" height="200" style="margin: 0 auto; display: block;">
            </div>
            <p data-speech="è¿™æ˜¯50å…ƒäººæ°‘å¸ï¼Œå®ƒçš„é¢œè‰²æ˜¯ç»¿è‰²çš„ï¼Œå®ƒçš„èƒŒé¢æ˜¯å¸ƒè¾¾æ‹‰å®«ã€‚">è¿™æ˜¯50å…ƒäººæ°‘å¸ï¼Œå®ƒçš„é¢œè‰²æ˜¯ç»¿è‰²çš„ï¼Œå®ƒçš„èƒŒé¢æ˜¯å¸ƒè¾¾æ‹‰å®«ã€‚</p>
            <p data-speech="50å…ƒäººæ°‘å¸ä¸Šæœ‰ä¸€ä¸ªæ•°å­—50ï¼Œä»£è¡¨å®ƒçš„é¢å€¼æ˜¯50å…ƒã€‚">50å…ƒäººæ°‘å¸ä¸Šæœ‰ä¸€ä¸ªæ•°å­—"50"ï¼Œä»£è¡¨å®ƒçš„é¢å€¼æ˜¯50å…ƒã€‚</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('money-50-yuan')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="money-50-yuan-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼š50å…ƒäººæ°‘å¸å¯ä»¥æ¢æˆå‡ å¼ 10å…ƒï¼Ÿ">å°é—®é¢˜ï¼š50å…ƒäººæ°‘å¸å¯ä»¥æ¢æˆå‡ å¼ 10å…ƒï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('money-50-yuan', true)" data-speech="5å¼ ">5å¼ </button>
                <button class="button" onclick="checkAnswer('money-50-yuan', false)" data-speech="4å¼ ">4å¼ </button>
            </div>

            <div id="money-50-yuan-feedback" class="feedback hidden" data-speech=""></div>

            <button id="money-50-yuan-next" class="button hidden" onclick="nextPage('money-50-yuan', 'online-payment-1')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- çº¿ä¸Šæ”¯ä»˜æ•™å­¦ç¬¬1æ­¥ -->
        <div id="online-payment-1" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>å­¦ä¹ çº¿ä¸Šæ”¯ä»˜ - ç¬¬1æ­¥</h2>
            <h3>æ‰“å¼€æ”¯ä»˜å®/å¾®ä¿¡</h3>
                <!-- æ·»åŠ è§†é¢‘å®¹å™¨ -->
            <div class="video-container">
                <video id="open-app-video" width="100%" controls>
                    <source src="https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E5%9C%A8%E6%89%8B%E6%9C%BA%E6%89%93%E5%BC%80%E6%94%AF%E4%BB%98%E5%AE%9D.mp4" type="video/mp4">
                    ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒæ’­æ”¾è§†é¢‘ã€‚
                </video>
            </div>
            <p data-speech="é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ‰‹æœºä¸Šæ‰¾åˆ°å¹¶ç‚¹å‡»æ”¯ä»˜å®æˆ–å¾®ä¿¡çš„å›¾æ ‡æ¥æ‰“å¼€å®ƒã€‚">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ‰‹æœºä¸Šæ‰¾åˆ°å¹¶ç‚¹å‡»æ”¯ä»˜å®æˆ–å¾®ä¿¡çš„å›¾æ ‡æ¥æ‰“å¼€å®ƒã€‚</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('online-payment-1')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="online-payment-1-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼šè¦è¿›è¡Œçº¿ä¸Šæ”¯ä»˜ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åšä»€ä¹ˆï¼Ÿ">å°é—®é¢˜ï¼šè¦è¿›è¡Œçº¿ä¸Šæ”¯ä»˜ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åšä»€ä¹ˆï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('online-payment-1', true)" data-speech="æ‰“å¼€æ”¯ä»˜å®æˆ–å¾®ä¿¡">æ‰“å¼€æ”¯ä»˜å®æˆ–å¾®ä¿¡</button>
                <button class="button" onclick="checkAnswer('online-payment-1', false)" data-speech="æ‰“å¼€ç›¸æœº">æ‰“å¼€ç›¸æœº</button>
            </div>

            <div id="online-payment-1-feedback" class="feedback hidden" data-speech=""></div>

            <button id="online-payment-1-next" class="button hidden" onclick="nextPage('online-payment-1', 'online-payment-2')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- çº¿ä¸Šæ”¯ä»˜æ•™å­¦ç¬¬2æ­¥ -->
        <div id="online-payment-2" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>å­¦ä¹ çº¿ä¸Šæ”¯ä»˜ - ç¬¬2æ­¥</h2>
            <h3>ç‚¹å‡»ä»˜æ¬¾/æ‰«ä¸€æ‰«</h3>
            <!-- æ·»åŠ è§†é¢‘å®¹å™¨ -->
            <div class="video-container">
                <video id="open-app-video" width="100%" controls>
                    <source src="https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E5%9C%A8%E6%94%AF%E4%BB%98%E5%AE%9D%E6%89%93%E5%BC%80%E6%89%AB%E4%B8%80%E6%89%AB.mp4" type="video/mp4">
                    ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒæ’­æ”¾è§†é¢‘ã€‚
                </video>
            </div>
            
            <p data-speech="åœ¨æ”¯ä»˜å®æˆ–å¾®ä¿¡é‡Œï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä»˜æ¬¾æˆ–æ‰«ä¸€æ‰«æŒ‰é’®å¹¶ç‚¹å‡»å®ƒã€‚">åœ¨æ”¯ä»˜å®æˆ–å¾®ä¿¡é‡Œï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä»˜æ¬¾æˆ–æ‰«ä¸€æ‰«æŒ‰é’®å¹¶ç‚¹å‡»å®ƒã€‚</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('online-payment-2')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="online-payment-2-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼šåœ¨æ”¯ä»˜å®/å¾®ä¿¡é‡Œï¼Œç‚¹å‡»å“ªä¸ªæŒ‰é’®å¯ä»¥å¼€å§‹æ”¯ä»˜æµç¨‹ï¼Ÿ">å°é—®é¢˜ï¼šåœ¨æ”¯ä»˜å®/å¾®ä¿¡é‡Œï¼Œç‚¹å‡»å“ªä¸ªæŒ‰é’®å¯ä»¥å¼€å§‹æ”¯ä»˜æµç¨‹ï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('online-payment-2', true)" data-speech="ä»˜æ¬¾æˆ–æ‰«ä¸€æ‰«">ä»˜æ¬¾æˆ–æ‰«ä¸€æ‰«</button>
                <button class="button" onclick="checkAnswer('online-payment-2', false)" data-speech="èŠå¤©">èŠå¤©</button>
            </div>

            <div id="online-payment-2-feedback" class="feedback hidden" data-speech=""></div>

            <button id="online-payment-2-next" class="button hidden" onclick="nextPage('online-payment-2', 'online-payment-3')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- çº¿ä¸Šæ”¯ä»˜æ•™å­¦ç¬¬3æ­¥ -->
        <div id="online-payment-3" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>å­¦ä¹ çº¿ä¸Šæ”¯ä»˜ - ç¬¬3æ­¥</h2>
            <h3>æ‰«ææ”¯ä»˜ç </h3>
            <!-- æ·»åŠ è§†é¢‘å®¹å™¨ -->
            <div class="video-container">
                <video id="open-app-video" width="100%" controls>
                    <source src="https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E6%89%AB%E6%8F%8F%E4%BA%8C%E7%BB%B4%E7%A0%81.mp4
    " type="video/mp4">
                    ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒæ’­æ”¾è§†é¢‘ã€‚
                </video>
            </div>

            <p data-speech="ç”¨æ‰‹æœºæ‘„åƒå¤´å¯¹å‡†å•†å®¶çš„æ”¯ä»˜äºŒç»´ç ï¼Œä¿æŒæ‰‹æœºç¨³å®šï¼Œç­‰å¾…æ‰«æå®Œæˆã€‚">ç”¨æ‰‹æœºæ‘„åƒå¤´å¯¹å‡†å•†å®¶çš„æ”¯ä»˜äºŒç»´ç ï¼Œä¿æŒæ‰‹æœºç¨³å®šï¼Œç­‰å¾…æ‰«æå®Œæˆã€‚</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('online-payment-3')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="online-payment-3-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼šæ‰«ææ”¯ä»˜ç æ—¶ï¼Œæ‰‹æœºéœ€è¦ä¿æŒä»€ä¹ˆçŠ¶æ€ï¼Ÿ">å°é—®é¢˜ï¼šæ‰«ææ”¯ä»˜ç æ—¶ï¼Œæ‰‹æœºéœ€è¦ä¿æŒä»€ä¹ˆçŠ¶æ€ï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('online-payment-3', true)" data-speech="ç¨³å®š">ç¨³å®š</button>
                <button class="button" onclick="checkAnswer('online-payment-3', false)" data-speech="æ™ƒåŠ¨">æ™ƒåŠ¨</button>
            </div>

            <div id="online-payment-3-feedback" class="feedback hidden" data-speech=""></div>

            <button id="online-payment-3-next" class="button hidden" onclick="nextPage('online-payment-3', 'online-payment-4')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- çº¿ä¸Šæ”¯ä»˜æ•™å­¦ç¬¬4æ­¥ -->
        <div id="online-payment-4" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>å­¦ä¹ çº¿ä¸Šæ”¯ä»˜ - ç¬¬4æ­¥</h2>
            <h3>è¾“å…¥æ”¯ä»˜é‡‘é¢</h3>
            <!-- æ·»åŠ è§†é¢‘å®¹å™¨ -->
            <div class="video-container">
                <video id="open-app-video" width="100%" controls>
                    <source src="https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E8%BE%93%E5%85%A5%E9%87%91%E9%A2%9D.mp4
    " type="video/mp4">
                    ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒæ’­æ”¾è§†é¢‘ã€‚
                </video>
            </div>

            <p data-speech="åœ¨å¼¹å‡ºçš„æ”¯ä»˜é¡µé¢ä¸­ï¼Œè¾“å…¥ä½ è¦æ”¯ä»˜çš„é‡‘é¢ã€‚">åœ¨å¼¹å‡ºçš„æ”¯ä»˜é¡µé¢ä¸­ï¼Œè¾“å…¥ä½ è¦æ”¯ä»˜çš„é‡‘é¢ã€‚</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('online-payment-4')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="online-payment-4-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼šåœ¨æ”¯ä»˜é¡µé¢ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä»€ä¹ˆæ“ä½œï¼Ÿ">å°é—®é¢˜ï¼šåœ¨æ”¯ä»˜é¡µé¢ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä»€ä¹ˆæ“ä½œï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('online-payment-4', true)" data-speech="è¾“å…¥æ”¯ä»˜é‡‘é¢">è¾“å…¥æ”¯ä»˜é‡‘é¢</button>
                <button class="button" onclick="checkAnswer('online-payment-4', false)" data-speech="æŸ¥çœ‹ä½™é¢">æŸ¥çœ‹ä½™é¢</button>
            </div>

            <div id="online-payment-4-feedback" class="feedback hidden" data-speech=""></div>

            <button id="online-payment-4-next" class="button hidden" onclick="nextPage('online-payment-4', 'online-payment-5')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- çº¿ä¸Šæ”¯ä»˜æ•™å­¦ç¬¬5æ­¥ -->
        <div id="online-payment-5" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>å­¦ä¹ çº¿ä¸Šæ”¯ä»˜ - ç¬¬5æ­¥</h2>
            <h3>ç¡®è®¤æ”¯ä»˜</h3>
            <!-- æ·»åŠ è§†é¢‘å®¹å™¨ -->
            <div class="video-container">
                <video id="open-app-video" width="100%" controls>
                    <source src="https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E7%82%B9%E5%87%BB%E4%BB%98%E6%AC%BE1.mp4" type="video/mp4">
                    ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒæ’­æ”¾è§†é¢‘ã€‚
                </video>
            </div>

            <p data-speech="è¾“å…¥é‡‘é¢åï¼Œç‚¹å‡»ç¡®è®¤æ”¯ä»˜æŒ‰é’®å®Œæˆæ”¯ä»˜ã€‚">è¾“å…¥é‡‘é¢åï¼Œç‚¹å‡»ç¡®è®¤æ”¯ä»˜æŒ‰é’®å®Œæˆæ”¯ä»˜ã€‚</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('online-payment-5')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="online-payment-5-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼šè¾“å…¥é‡‘é¢åï¼Œæˆ‘ä»¬åº”è¯¥ç‚¹å‡»å“ªä¸ªæŒ‰é’®å®Œæˆæ”¯ä»˜ï¼Ÿ">å°é—®é¢˜ï¼šè¾“å…¥é‡‘é¢åï¼Œæˆ‘ä»¬åº”è¯¥ç‚¹å‡»å“ªä¸ªæŒ‰é’®å®Œæˆæ”¯ä»˜ï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('online-payment-5', true)" data-speech="ç¡®è®¤æ”¯ä»˜">ç¡®è®¤æ”¯ä»˜</button>
                <button class="button" onclick="checkAnswer('online-payment-5', false)" data-speech="å–æ¶ˆæ”¯ä»˜">å–æ¶ˆæ”¯ä»˜</button>
            </div>

            <div id="online-payment-5-feedback" class="feedback hidden" data-speech=""></div>

            <button id="online-payment-5-next" class="button hidden" onclick="nextPage('online-payment-5', 'character-selection')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- é€‰æ‹©å¯¼è§ˆè§’è‰²é¡µé¢ -->
        <div id="character-selection" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>é€‰æ‹©ä½ çš„å¯¼è§ˆè§’è‰²</h2>
            <p data-speech="å¿«æ¥é€‰ä¸€ä¸ªå¯çˆ±çš„å°ä¼™ä¼´é™ªä½ ä¸€èµ·è´­ç‰©å§ï¼">å¿«æ¥é€‰ä¸€ä¸ªå¯çˆ±çš„å°ä¼™ä¼´é™ªä½ ä¸€èµ·è´­ç‰©å§ï¼</p>
            <div class="options">
                <img class="character" src="https://i.imgur.com/ZWtR5jx.png" alt="å°çŒ«" onclick="selectCharacter('å°çŒ«')">
                <img class="character" src="https://i.imgur.com/m5NHPrm.png" alt="å°ç‹—" onclick="selectCharacter('å°ç‹—')">
                <img class="character" src="https://i.imgur.com/MY2nr25.png" alt="å°å…”" onclick="selectCharacter('å°å…”')">
                <img class="character" src="https://i.imgur.com/1Epm2Lv.png" alt="å°ç†Š" onclick="selectCharacter('å°ç†Š')">
            </div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('character-selection')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="character-selection-status"></span>
            </div>

            <button id="character-selection-next" class="button hidden" onclick="nextPage('character-selection', 'character-video')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- è§’è‰²è§†é¢‘æ’­æ”¾é¡µé¢ -->
        <div id="character-video" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2 id="character-video-title"></h2>
            <div class="video-container">
                <video width="100%" controls>
                    <source id="character-video-source" src="" type="video/mp4">
                    ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒæ’­æ”¾è§†é¢‘ã€‚
                </video>
            </div>
            <p data-speech="è®©æˆ‘ä»¬ä¸€èµ·æ¥è®¤è¯†ä¸€ä¸‹ä½ çš„å°ä¼™ä¼´å§ï¼">è®©æˆ‘ä»¬ä¸€èµ·æ¥è®¤è¯†ä¸€ä¸‹ä½ çš„å°ä¼™ä¼´å§ï¼</p>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('character-video')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="character-video-status"></span>
            </div>

            <button class="button" onclick="nextPage('character-video', 'product-recognition')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- è¯†åˆ«å•†å“é¡µé¢ -->
        <div id="product-recognition" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>è®¤è¯†å•†å“</h2>
            <p data-speech="æ¬¢è¿æ¥åˆ°è¶…å¸‚ï¼Œè¿™é‡Œæœ‰å¥½å¤šå¥½ç©çš„ä¸œè¥¿å“¦ï¼è®©ç†Šå”å”æ¥ç»™ä½ ä»‹ç»ä¸€ä¸‹å§ã€‚">æ¬¢è¿æ¥åˆ°è¶…å¸‚ï¼Œè¿™é‡Œæœ‰å¥½å¤šå¥½ç©çš„ä¸œè¥¿å“¦ï¼è®©ç†Šå”å”æ¥ç»™ä½ ä»‹ç»ä¸€ä¸‹å§ã€‚</p>
            <div class="video-container">
                <video id="bear-uncle-video" width="100%" controls>
                    <source src="https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E7%86%8A%E5%8F%94%E5%8F%94.mp4" type="video/mp4">
                    ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒæ’­æ”¾è§†é¢‘ã€‚
                </video>
            </div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('product-recognition')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="product-recognition-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°æœ‹å‹ï¼Œè§‚å¯Ÿä¸€ä¸‹ï¼Œè§†é¢‘é‡Œå‡ºç°äº†ä»€ä¹ˆå•†å“å‘€ï¼Ÿ">å°é—®é¢˜ï¼šå°æœ‹å‹ï¼Œè§‚å¯Ÿä¸€ä¸‹ï¼Œè§†é¢‘é‡Œå‡ºç°äº†ä»€ä¹ˆå•†å“å‘€ï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('product-recognition', true)" data-speech="æ£’æ£’ç³–">æ£’æ£’ç³–</button>
                <button class="button" onclick="checkAnswer('product-recognition', false)" data-speech="é¦™è•‰">é¦™è•‰</button>
            </div>

            <div id="product-recognition-feedback" class="feedback hidden" data-speech=""></div>
            <button id="product-recognition-next" class="button hidden" onclick="nextPage('product-recognition', 'fruit-section')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- æ°´æœåŒºé¡µé¢ -->
        <div id="fruit-section" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>æ°´æœåŒº</h2>
            <p data-speech="è¿™é‡Œæ˜¯æ°´æœåŒºï¼Œæœ‰å¥½å¤šæ–°é²œçš„æ°´æœå“¦ï¼å¿«æ¥æŒ‘é€‰ä½ å–œæ¬¢çš„æ°´æœå§ï¼">è¿™é‡Œæ˜¯æ°´æœåŒºï¼Œæœ‰å¥½å¤šæ–°é²œçš„æ°´æœå“¦ï¼å¿«æ¥æŒ‘é€‰ä½ å–œæ¬¢çš„æ°´æœå§ï¼</p>
            <div class="items-grid">
                <div class="item" onclick="addToCart('è‹¹æœ', 2)">
                    <img src="https://i.imgur.com/S0vn9zR.png" alt="è‹¹æœ">
                    <p>è‹¹æœ</p>
                    <p>ä»·æ ¼: 2å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('è‹¹æœ', 2, event)">-</button> 
                </div>
                <div class="item" onclick="addToCart('é¦™è•‰', 3)">
                    <img src="https://i.imgur.com/MTC0sdk.jpeg" alt="é¦™è•‰">
                    <p>é¦™è•‰</p>
                    <p>ä»·æ ¼: 3å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('é¦™è•‰', 3, event)">-</button>
                </div>
                <div class="item" onclick="addToCart('æ©™å­', 4)">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwwhUqtr8_Hj5asf7WmDr49jQbC9KonwE-X3ayXYdwd4x1N3Eh4njcglk--cLctbZv-Uo&usqp=CAU"  alt="æ©™å­">
                    <p>æ©™å­</p>
                    <p>ä»·æ ¼: 4å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('æ©™å­', 4, event)">-</button>
                </div>
                <div class="item" onclick="addToCart('è‰è“', 5)">
                    <img src="https://i.imgur.com/kinxghu.png" alt="è‰è“">
                    <p>è‰è“</p>
                    <p>ä»·æ ¼: 5å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('è‰è“', 5, event)">-</button>
                </div>
            </div>
            <div class="shopping-cart">
                <div id="cart-items-fruit"></div>
                <div class="cart-total">æ€»ä»·: <span id="cart-total-fruit">0</span> å…ƒ</div>
            </div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('fruit-section')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="fruit-section-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼šå°æœ‹å‹ä»¬ï¼Œè¶…å¸‚é‡Œçš„è‹¹æœæ˜¯ä»€ä¹ˆé¢œè‰²çš„å‘€ï¼Ÿ">å°é—®é¢˜ï¼šå°æœ‹å‹ä»¬ï¼Œè¶…å¸‚é‡Œçš„è‹¹æœæ˜¯ä»€ä¹ˆé¢œè‰²çš„å‘€ï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('fruit-section', true)" data-speech="çº¢è‰²">çº¢è‰²</button>
                <button class="button" onclick="checkAnswer('fruit-section', false)" data-speech="è“è‰²">è“è‰²</button>
            </div>

            <div id="fruit-section-feedback" class="feedback hidden" data-speech=""></div>

            <button id="fruit-section-next" class="button hidden" onclick="nextPage('fruit-section', 'snack-section')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- é›¶é£ŸåŒºé¡µé¢ -->
        <div id="snack-section" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>é›¶é£ŸåŒº</h2>
            <p data-speech="è¿™é‡Œæ˜¯é›¶é£ŸåŒºï¼Œæœ‰å¥½å¤šå¥½åƒçš„é›¶é£Ÿå“¦ï¼å°æœ‹å‹ï¼Œå¿«æ¥çœ‹çœ‹æœ‰æ²¡æœ‰ä½ å–œæ¬¢åƒçš„é›¶é£Ÿï¼Ÿ">è¿™é‡Œæ˜¯é›¶é£ŸåŒºï¼Œæœ‰å¥½å¤šå¥½åƒçš„é›¶é£Ÿå“¦ï¼å°æœ‹å‹ï¼Œå¿«æ¥çœ‹çœ‹æœ‰æ²¡æœ‰ä½ å–œæ¬¢åƒçš„é›¶é£Ÿï¼Ÿ</p>
            <div class="items-grid">
                <div class="item" onclick="addToCart('è–¯ç‰‡', 5)">
                    <img src="https://snackhome.store/wp-content/uploads/2022/04/111.png" alt="è–¯ç‰‡">
                    <p>è–¯ç‰‡</p>
                    <p>ä»·æ ¼: 5å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('è–¯ç‰‡', 5, event)">-</button>
                </div>
                <div class="item" onclick="addToCart('å·§å…‹åŠ›', 8)">
                    <img src="https://www.costco.com.tw/medias/sys_master/images/hf9/ha4/15234252734494.jpg" alt="å·§å…‹åŠ›">
                    <p>å·§å…‹åŠ›</p>
                    <p>ä»·æ ¼: 8å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('å·§å…‹åŠ›', 8, event)">-</button>
                </div>
                <div class="item" onclick="addToCart('é¥¼å¹²', 6)">
                    <img src="https://img14.360buyimg.com/pop/jfs/t1/150065/24/46121/157552/6736ac36F255069d9/11034351f4a303a6.jpg" alt="é¥¼å¹²">
                    <p>é¥¼å¹²</p>
                    <p>ä»·æ ¼: 6å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('é¥¼å¹²', 6, event)">-</button>
                </div>
                <div class="item" onclick="addToCart('é…¸å¥¶', 7)">
                    <img src="https://imgcache.dealmoon.com/thumbimg.dealmoon.com/dealmoon/9e4/e7a/76d/9475055227806e672686549.jpg_600_0_3_aa52.jpg" alt="é…¸å¥¶">
                    <p>é…¸å¥¶</p>
                    <p>ä»·æ ¼: 7å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('é…¸å¥¶', 7, event)">-</button>
                </div>
            </div>
            <div class="shopping-cart">
                <div id="cart-items-snack"></div>
                <div class="cart-total">æ€»ä»·: <span id="cart-total-snack">0</span> å…ƒ</div>
            </div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('snack-section')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="snack-section-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼šè–¯ç‰‡æ˜¯ä»€ä¹ˆå‘³é“çš„ï¼Ÿ">å°é—®é¢˜ï¼šè–¯ç‰‡æ˜¯ä»€ä¹ˆå‘³é“çš„ï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('snack-section', true)" data-speech="å’¸å‘³">å’¸å‘³</button>
                <button class="button" onclick="checkAnswer('snack-section', false)" data-speech="é…¸å‘³">é…¸å‘³</button>
            </div>

            <div id="snack-section-feedback" class="feedback hidden" data-speech=""></div>

            <button id="snack-section-next" class="button hidden" onclick="nextPage('snack-section', 'stationery-section')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- å­¦ä¹ ç”¨å“åŒºé¡µé¢ -->
        <div id="stationery-section" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>å­¦ä¹ ç”¨å“åŒº</h2>
            <p data-speech="è¿™é‡Œæ˜¯å­¦ä¹ ç”¨å“åŒºï¼Œæœ‰å¥½å¤šæœ‰ç”¨çš„å­¦ä¹ ç”¨å“å“¦ï¼å¿«æ¥æŒ‘é€‰ä½ éœ€è¦çš„æ–‡å…·å§ï¼">è¿™é‡Œæ˜¯å­¦ä¹ ç”¨å“åŒºï¼Œæœ‰å¥½å¤šæœ‰ç”¨çš„å­¦ä¹ ç”¨å“å“¦ï¼å¿«æ¥æŒ‘é€‰ä½ éœ€è¦çš„æ–‡å…·å§ï¼</p>
            <div class="items-grid">
                <div class="item" onclick="addToCart('é“…ç¬”', 1)">
                    <img src="https://www.raymondgeddes.com/cdn/shop/articles/number-2-pencils.jpg?v=1682075791" alt="é“…ç¬”">
                    <p>é“…ç¬”</p>
                    <p>ä»·æ ¼: 1å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('é“…ç¬”', 1, event)">-</button>
                </div>
                <div class="item" onclick="addToCart('æ©¡çš®', 2)">
                    <img src="https://www.faber-castell.com/-/media/Products/Product-Repository/Eraser/24-24-22-Eraser/187120-Eraser-DUST-FREE-187120/Images/187120_60_PX_9979849775_2637.ashx?bc=ffffff&as=0&h=900&w=900&sc_lang=en-Glob&hash=9C1FC4D4B7B6DCFDB86B7669B93D4D5D" alt="æ©¡çš®">
                    <p>æ©¡çš®</p>
                    <p>ä»·æ ¼: 2å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('æ©¡çš®', 2, event)">-</button>
                </div>
                <div class="item" onclick="addToCart('å°ºå­', 3)">
                    <img src="https://media.officedepot.com/images/f_auto,q_auto,e_sharpen,h_450/products/724522/724522_o03_rlr_6_in_blu_100714/724522" alt="å°ºå­">
                    <p>å°ºå­</p>
                    <p>ä»·æ ¼: 3å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('å°ºå­', 3, event)">-</button>
                </div>
                <div class="item" onclick="addToCart('ç¬”è®°æœ¬', 5)">
                    <img src="https://tiimg.tistatic.com/fp/3/008/030/glossy-cover-rectangular-plain-paper-writing-spiral-binding-notebook-for-office-use-183.jpg" alt="ç¬”è®°æœ¬">
                    <p>ç¬”è®°æœ¬</p>
                    <p>ä»·æ ¼: 5å…ƒ</p>
                    <button class="remove-item-button" onclick="removeFromCart('ç¬”è®°æœ¬', 5, event)">-</button>
                </div>
            </div>
            <div class="shopping-cart">
                <div id="cart-items-stationery"></div>
                <div class="cart-total">æ€»ä»·: <span id="cart-total-stationery">0</span> å…ƒ</div>
            </div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('stationery-section')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="stationery-section-status"></span>
            </div>

            <!-- äº’åŠ¨é—®é¢˜ -->
            <h3 data-speech="å°é—®é¢˜ï¼šå°æœ‹å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é“…ç¬”æ¥åšä»€ä¹ˆå‘€ï¼Ÿ">å°é—®é¢˜ï¼šå°æœ‹å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é“…ç¬”æ¥åšä»€ä¹ˆå‘€ï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('stationery-section', true)" data-speech="å†™å­—">å†™å­—</button>
                <button class="button" onclick="checkAnswer('stationery-section', false)" data-speech="ç¡è§‰">ç¡è§‰</button>
            </div>

            <div id="stationery-section-feedback" class="feedback hidden" data-speech=""></div>

            <button id="stationery-section-next" class="button hidden" onclick="nextPage('stationery-section', 'shopping-cart-section')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- è´­ç‰©è½¦é¡µé¢ -->
        <div id="shopping-cart-section" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>è´­ç‰©è½¦</h2>
            <div class="shopping-cart">
                <div id="cart-items-all"></div>
                <div class="cart-total">æ€»ä»·: <span id="cart-total-all">0</span> å…ƒ</div>
            </div>
            <button class="button" onclick="nextPage('shopping-cart-section', 'video-intermediate')">å»ç»“ç®—</button>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('shopping-cart-section')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="shopping-cart-section-status"></span>
            </div>
        </div>

        <!-- æ–°å¢ä¸­é—´è§†é¢‘é¡µé¢ -->
        <div id="video-intermediate" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>å‰å¾€æ”¶é“¶å°</h2>
            <p data-speech="å°æœ‹å‹ï¼Œä½ å·²ç»é€‰å¥½å•†å“äº†ï¼æ¥ä¸‹æ¥å¿«å’Œä½ çš„å°ä¼™ä¼´ä¸€èµ·å‰å¾€æ”¶é“¶å°å§ï¼">å°æœ‹å‹ï¼Œä½ å·²ç»é€‰å¥½å•†å“äº†ï¼æ¥ä¸‹æ¥å¿«å’Œä½ çš„å°ä¼™ä¼´ä¸€èµ·å‰å¾€æ”¶é“¶å°å§ï¼</p>
            <div class="video-container">
                <video width="100%" controls>
                    <source id="intermediate-video-source" src="" type="video/mp4">
                    ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒæ’­æ”¾è§†é¢‘ã€‚
                </video>
            </div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('video-intermediate')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="video-intermediate-status"></span>
            </div>

            <button class="button" onclick="nextPage('video-intermediate', 'payment-selection')">ç»§ç»­ç»“ç®—</button>
        </div>

        <!-- æ”¯ä»˜é€‰æ‹©é¡µé¢ -->
        <div id="payment-selection" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>é€‰æ‹©æ”¯ä»˜æ–¹å¼</h2>
            <p data-speech="ä½ å·²ç»é€‰å¥½å•†å“å•¦ï¼Œç°åœ¨è¦é€‰æ‹©ä¸€ç§æ”¯ä»˜æ–¹å¼å“¦ï¼">ä½ å·²ç»é€‰å¥½å•†å“å•¦ï¼Œç°åœ¨è¦é€‰æ‹©ä¸€ç§æ”¯ä»˜æ–¹å¼å“¦ï¼</p>
            <div class="options">
                <div class="payment-option" onclick="selectPayment('cash')">
                    <img src="https://i.imgur.com/D3u6PIO.png" width="300" height="200" alt="ç°é‡‘æ”¯ä»˜">
                    <p>ç°é‡‘æ”¯ä»˜</p>
                </div>
                <div class="payment-option" onclick="selectPayment('online')">
                    <img src="https://i.imgur.com/EP65ykv.png" width="300" height="200" alt="çº¿ä¸Šæ”¯ä»˜">
                    <p>çº¿ä¸Šæ”¯ä»˜</p>
                </div>
            </div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('payment-selection')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="payment-selection-status"></span>
            </div>

            <div id="payment-selection-feedback" class="feedback hidden" data-speech=""></div>

            <button id="payment-selection-next" class="button hidden" onclick="nextPage('payment-selection', 'cash-payment')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- ç°é‡‘æ”¯ä»˜é¡µé¢ -->
        <div id="cash-payment" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>ç°é‡‘æ”¯ä»˜</h2>
            <p data-speech="ä½ é€‰æ‹©äº†ç°é‡‘æ”¯ä»˜ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹éœ€è¦ç”¨å“ªäº›äººæ°‘å¸å§ï¼">ä½ é€‰æ‹©äº†ç°é‡‘æ”¯ä»˜ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹éœ€è¦ç”¨å“ªäº›äººæ°‘å¸å§ï¼</p>
            <p id="cash-payment-total" data-speech=""></p>
            <!-- æ–°å¢ç°é‡‘çº¸å¸å›¾ç‰‡ -->
            <div class="money-images">
                <div class="money-option">
                    <img src="https://n.sinaimg.cn/translate/26/w820h806/20190830/8c33-icxmqsv3779747.jpg" alt="1å…ƒäººæ°‘å¸">
                    <p>1å…ƒ</p>
                    <div class="money-controls">
                        <button onclick="decreaseMoney('1-yuan')">-</button>
                        <span id="1-yuan-count">0</span>
                        <button onclick="increaseMoney('1-yuan')">+</button>
                    </div>
                </div>
                <div class="money-option">
                    <img src="https://i.pinimg.com/736x/e9/06/6c/e9066cb40fe341ba6337a2436fb82768.jpg" alt="5å…ƒäººæ°‘å¸">
                    <p>5å…ƒ</p>
                    <div class="money-controls">
                        <button onclick="decreaseMoney('5-yuan')">-</button>
                        <span id="5-yuan-count">0</span>
                        <button onclick="increaseMoney('5-yuan')">+</button>
                    </div>
                </div>
                <div class="money-option">
                    <img src="https://i.imgur.com/OGdf3fY.png" alt="10å…ƒäººæ°‘å¸">
                    <p>10å…ƒ</p>
                    <div class="money-controls">
                        <button onclick="decreaseMoney('10-yuan')">-</button>
                        <span id="10-yuan-count">0</span>
                        <button onclick="increaseMoney('10-yuan')">+</button>
                    </div>
                </div>
                <div class="money-option">
                    <img src="https://th.bing.com/th/id/OIP.s1xq2J4pKhl6NqCk_eLnIQHaHP?pid=ImgDet&w=474&h=463&rs=1" alt="20å…ƒäººæ°‘å¸">
                    <p>20å…ƒ</p>
                    <div class="money-controls">
                        <button onclick="decreaseMoney('20-yuan')">-</button>
                        <span id="20-yuan-count">0</span>
                        <button onclick="increaseMoney('20-yuan')">+</button>
                    </div>
                </div>
                <div class="money-option">
                    <img src="https://lh3.googleusercontent.com/proxy/YilCoOvHVhmfX_OlmshoAOYKh9942pEr0nwbh-GWMudGs5T4O0zgtLmneVbkHAQi4FzNrZfgIqtNukRWQRFbuVWzrEPSyK77hlQYq_3GVlQBVY_GWaB4Up2XDcI" alt="50å…ƒäººæ°‘å¸">
                    <p>50å…ƒ</p>
                    <div class="money-controls">
                        <button onclick="decreaseMoney('50-yuan')">-</button>
                        <span id="50-yuan-count">0</span>
                        <button onclick="increaseMoney('50-yuan')">+</button>
                    </div>
                </div>
            </div>
            <button class="button" onclick="checkCashPayment()">ç¡®è®¤æ”¯ä»˜</button>
            <div id="cash-payment-change" data-speech=""></div>
            <div id="cash-payment-feedback" class="feedback hidden" data-speech=""></div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('cash-payment')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="cash-payment-status"></span>
            </div>

            <button id="cash-payment-next" class="button hidden" onclick="nextPage('cash-payment', 'reward')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- çº¿ä¸Šæ”¯ä»˜ç¡®è®¤é¡µé¢ 1 -->
        <div id="online-payment-confirm-1" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>çº¿ä¸Šæ”¯ä»˜ç¡®è®¤</h2>
            <p data-speech="ä½ é€‰æ‹©äº†çº¿ä¸Šæ”¯ä»˜ï¼Œè®©æˆ‘ä»¬æ¥å¤ä¹ ä¸€ä¸‹çº¿ä¸Šæ”¯ä»˜çš„æ­¥éª¤å§ï¼">ä½ é€‰æ‹©äº†çº¿ä¸Šæ”¯ä»˜ï¼Œè®©æˆ‘ä»¬æ¥å¤ä¹ ä¸€ä¸‹çº¿ä¸Šæ”¯ä»˜çš„æ­¥éª¤å§ï¼</p>
            <h3 data-speech="å°é—®é¢˜ï¼šçº¿ä¸Šæ”¯ä»˜ç¬¬ä¸€æ­¥è¦åšä»€ä¹ˆï¼Ÿ">å°é—®é¢˜ï¼šçº¿ä¸Šæ”¯ä»˜ç¬¬ä¸€æ­¥è¦åšä»€ä¹ˆï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('online-payment-confirm-1', true)" data-speech="æ‰“å¼€æ”¯ä»˜å®æˆ–å¾®ä¿¡">æ‰“å¼€æ”¯ä»˜å®æˆ–å¾®ä¿¡</button>
                <button class="button" onclick="checkAnswer('online-payment-confirm-1', false)" data-speech="ç‚¹å‡»ä»˜æ¬¾æŒ‰é’®">ç‚¹å‡»ä»˜æ¬¾æŒ‰é’®</button>
            </div>
            <div id="online-payment-confirm-1-feedback" class="feedback hidden" data-speech=""></div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('online-payment-confirm-1')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="online-payment-confirm-1-status"></span>
            </div>

            <button id="online-payment-confirm-1-next" class="button hidden" onclick="nextPage('online-payment-confirm-1', 'online-payment-confirm-2')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- çº¿ä¸Šæ”¯ä»˜ç¡®è®¤é¡µé¢ 2 -->
        <div id="online-payment-confirm-2" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>çº¿ä¸Šæ”¯ä»˜ç¡®è®¤</h2>
            <h3 data-speech="å°é—®é¢˜ï¼šæ‰“å¼€æ”¯ä»˜å®æˆ–å¾®ä¿¡åï¼Œä¸‹ä¸€æ­¥è¦åšä»€ä¹ˆï¼Ÿ">å°é—®é¢˜ï¼šæ‰“å¼€æ”¯ä»˜å®æˆ–å¾®ä¿¡åï¼Œä¸‹ä¸€æ­¥è¦åšä»€ä¹ˆï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('online-payment-confirm-2', true)" data-speech="ç‚¹å‡»ä»˜æ¬¾æˆ–æ‰«ä¸€æ‰«">ç‚¹å‡»ä»˜æ¬¾æˆ–æ‰«ä¸€æ‰«</button>
                <button class="button" onclick="checkAnswer('online-payment-confirm-2', false)" data-speech="è¾“å…¥æ”¯ä»˜é‡‘é¢">è¾“å…¥æ”¯ä»˜é‡‘é¢</button>
            </div>
            <div id="online-payment-confirm-2-feedback" class="feedback hidden" data-speech=""></div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('online-payment-confirm-2')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="online-payment-confirm-2-status"></span>
            </div>

            <button id="online-payment-confirm-2-next" class="button hidden" onclick="nextPage('online-payment-confirm-2', 'online-payment-confirm-3')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- çº¿ä¸Šæ”¯ä»˜ç¡®è®¤é¡µé¢ 3 -->
        <div id="online-payment-confirm-3" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>çº¿ä¸Šæ”¯ä»˜ç¡®è®¤</h2>
            <h3 data-speech="å°é—®é¢˜ï¼šç‚¹å‡»ä»˜æ¬¾æˆ–æ‰«ä¸€æ‰«åï¼Œè¦åšä»€ä¹ˆï¼Ÿ">å°é—®é¢˜ï¼šç‚¹å‡»ä»˜æ¬¾æˆ–æ‰«ä¸€æ‰«åï¼Œè¦åšä»€ä¹ˆï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('online-payment-confirm-3', true)" data-speech="æ‰«ææ”¯ä»˜ç ">æ‰«ææ”¯ä»˜ç </button>
                <button class="button" onclick="checkAnswer('online-payment-confirm-3', false)" data-speech="ç¡®è®¤æ”¯ä»˜">ç¡®è®¤æ”¯ä»˜</button>
            </div>
            <div id="online-payment-confirm-3-feedback" class="feedback hidden" data-speech=""></div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('online-payment-confirm-3')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="online-payment-confirm-3-status"></span>
            </div>

            <button id="online-payment-confirm-3-next" class="button hidden" onclick="nextPage('online-payment-confirm-3', 'online-payment-confirm-4')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- çº¿ä¸Šæ”¯ä»˜ç¡®è®¤é¡µé¢ 4 -->
        <div id="online-payment-confirm-4" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>çº¿ä¸Šæ”¯ä»˜ç¡®è®¤</h2>
            <h3 data-speech="å°é—®é¢˜ï¼šæ‰«ææ”¯ä»˜ç åï¼Œéœ€è¦åšä»€ä¹ˆï¼Ÿ">å°é—®é¢˜ï¼šæ‰«ææ”¯ä»˜ç åï¼Œéœ€è¦åšä»€ä¹ˆï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('online-payment-confirm-4', true)" data-speech="è¾“å…¥æ”¯ä»˜é‡‘é¢">è¾“å…¥æ”¯ä»˜é‡‘é¢</button>
                <button class="button" onclick="checkAnswer('online-payment-confirm-4', false)" data-speech="æ‰“å¼€æ”¯ä»˜å®æˆ–å¾®ä¿¡">æ‰“å¼€æ”¯ä»˜å®æˆ–å¾®ä¿¡</button>
            </div>
            <div id="online-payment-confirm-4-feedback" class="feedback hidden" data-speech=""></div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('online-payment-confirm-4')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="online-payment-confirm-4-status"></span>
            </div>

            <button id="online-payment-confirm-4-next" class="button hidden" onclick="nextPage('online-payment-confirm-4', 'online-payment-confirm-5')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- çº¿ä¸Šæ”¯ä»˜ç¡®è®¤é¡µé¢ 5 -->
        <div id="online-payment-confirm-5" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>çº¿ä¸Šæ”¯ä»˜ç¡®è®¤</h2>
            <h3 data-speech="å°é—®é¢˜ï¼šè¾“å…¥æ”¯ä»˜é‡‘é¢åï¼Œæœ€åè¦åšä»€ä¹ˆï¼Ÿ">å°é—®é¢˜ï¼šè¾“å…¥æ”¯ä»˜é‡‘é¢åï¼Œæœ€åè¦åšä»€ä¹ˆï¼Ÿ</h3>
            <div class="options">
                <button class="button" onclick="checkAnswer('online-payment-confirm-5', true)" data-speech="ç¡®è®¤æ”¯ä»˜">ç¡®è®¤æ”¯ä»˜</button>
                <button class="button" onclick="checkAnswer('online-payment-confirm-5', false)" data-speech="æ‰«ææ”¯ä»˜ç ">æ‰«ææ”¯ä»˜ç </button>
            </div>
            <div id="online-payment-confirm-5-feedback" class="feedback hidden" data-speech=""></div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('online-payment-confirm-5')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="online-payment-confirm-5-status"></span>
            </div>

            <button id="online-payment-confirm-5-next" class="button hidden" onclick="nextPage('online-payment-confirm-5', 'reward')">ä¸‹ä¸€æ­¥</button>
        </div>

        <!-- å¥–åŠ±é¡µé¢ -->
        <div id="reward" class="container hidden">
            <button class="back-button" onclick="goBack()">â†</button>
            <h2>æ­å–œä½ ï¼Œè´­ç‰©æˆåŠŸï¼</h2>
            <p data-speech="ä½ å¤ªæ£’å•¦ï¼æˆåŠŸå®Œæˆäº†è´­ç‰©ï¼Œè¿™æ˜¯ç»™ä½ çš„å¥–åŠ±å“¦ï¼">ä½ å¤ªæ£’å•¦ï¼æˆåŠŸå®Œæˆäº†è´­ç‰©ï¼Œè¿™æ˜¯ç»™ä½ çš„å¥–åŠ±å“¦ï¼</p>
            <div class="image-container">
                <img src="https://static.vecteezy.com/system/resources/previews/040/532/044/non_2x/illustration-of-success-concept-school-achievement-and-success-illustration-first-place-winner-on-white-background-teamwork-consept-vector.jpg" width="300" height="450"alt="å¥–åŠ±å›¾ç‰‡"style="display: block; margin: 0 auto;">
            </div>
            <div class="sun-reward" id="sun-reward-count"></div>

            <!-- è¯­éŸ³æ§åˆ¶ -->
            <div class="audio-control">
                <button class="speech-control" onclick="toggleSpeech('reward')">
                    <span class="speech-icon">ğŸ”Š</span> æœ—è¯»æ–‡å­—
                </button>
                <span class="speech-status" id="reward-status"></span>
            </div>

            <button class="button" onclick="restartGame()">å†ç©ä¸€æ¬¡</button>
        </div>

    <script>
        let synth = window.speechSynthesis;
        let voices = [];
        let selectedCharacter = null;
        let selectedItems = [];
        let totalPrice = 0;
        let selectedPaymentMethod = null;
        let cart = [];
        let sunRewards = 0;
        let pageHistory = [];

        // é¡µé¢é¡ºåºæ•°ç»„
        const pageOrder = [
            'welcome', 'money-1-yuan', 'money-5-yuan', 'money-10-yuan', 'money-20-yuan', 'money-50-yuan',
            'online-payment-1', 'online-payment-2', 'online-payment-3', 'online-payment-4', 'online-payment-5',
            'character-selection', 'character-video', 'product-recognition', 'fruit-section', 'snack-section',
            'stationery-section', 'shopping-cart-section', 'video-intermediate', 'payment-selection', 'cash-payment',
            'online-payment-confirm-1', 'online-payment-confirm-2', 'online-payment-confirm-3', 'online-payment-confirm-4', 'online-payment-confirm-5',
            'reward'
        ];

        // è¿‡æ»¤ç‰¹æ®Šå­—ç¬¦
        function filterSpecialCharacters(text) {
            return text.replace(/<[^>]*>?/gm, '').replace(/[^a-zA-Z0-9\u4e00-\u9fa5ï¼Œã€‚ã€ï¼Ÿï¼ï¼šâ€œâ€â€˜â€™ï¼ˆï¼‰]/g, '');
        }

        function populateVoices() {
            voices = synth.getVoices();
            const voiceSelect = document.getElementById('voice-select');
            const currentValue = voiceSelect.value; // ä¿å­˜å½“å‰é€‰æ‹©çš„å€¼
            voiceSelect.innerHTML = ''; // æ¸…ç©ºåŸæœ‰é€‰é¡¹
            let defaultVoiceIndex = 0;

            voices.forEach((voice, i) => {
                const option = document.createElement('option');
                option.textContent = `${voice.name} (${voice.lang})`;
                option.value = i;
                voiceSelect.appendChild(option);

                // å°è¯•æ‰¾åˆ°æ›´è‡ªç„¶çš„ä¸­æ–‡è¯­éŸ³
                if (voice.lang === 'zh-CN' && voice.localService) {
                    defaultVoiceIndex = i;
                }
            });

            // æ¢å¤ä¹‹å‰é€‰æ‹©çš„å€¼ï¼Œå¦‚æœæ— æ•ˆåˆ™é€‰æ‹©é»˜è®¤å€¼
            if (currentValue && voices[currentValue]) {
                voiceSelect.value = currentValue;
            } else {
                voiceSelect.value = defaultVoiceIndex;
            }
        }

        synth.onvoiceschanged = populateVoices;
        // æ·»åŠ  toggleSubCategories å‡½æ•°
        function toggleSubCategories(button) {
            const subCategory = button.nextElementSibling;
            const toggleBtn = button.querySelector('.toggle-btn');
            if (subCategory.style.display === 'none' || subCategory.style.display === '') {
                subCategory.style.display = 'block';
                toggleBtn.textContent = 'â–²';
            } else {
                subCategory.style.display = 'none';
                toggleBtn.textContent = 'â–¼';
            }
        }

        function startLearning() {
            pageHistory.push('welcome');
            document.getElementById('welcome').classList.add('hidden');
            document.getElementById('money-1-yuan').classList.remove('hidden');
            toggleSpeech('money-1-yuan');
            // æ˜¾ç¤ºæ•™å¸ˆæ§åˆ¶æŒ‰é’®
            document.querySelector('.teacher-next-button').style.display = 'flex';
        }
        function toggleShoppingCartVisibility(pageId) {
            const shoppingCart = document.querySelector('.fixed-shopping-cart');
            const shoppingPages = [
                'fruit-section', 'snack-section', 'stationery-section', 
                'shopping-cart-section', 'cash-payment'
            ];
            if (shoppingPages.includes(pageId)) {
                shoppingCart.style.display = 'block';
            } else {
                shoppingCart.style.display = 'none';
            }
        }
    
        // ä¿®æ”¹ showPage å‡½æ•°
        function showPage(pageId) {
            // éšè—æ‰€æœ‰é¡µé¢
            const allPages = document.querySelectorAll('.container');
            allPages.forEach((page) => {
                page.classList.add('hidden');
            });

            // æ˜¾ç¤ºæŒ‡å®šé¡µé¢
            document.getElementById(pageId).classList.remove('hidden');
            toggleSpeech(pageId);

            // å®šä¹‰è´­ç‰©ç¯èŠ‚çš„é¡µé¢ ID æ•°ç»„
            const shoppingPages = [
                'product-recognition', 'fruit-section', 'snack-section',
                'stationery-section', 'shopping-cart-section', 'video-intermediate', 'payment-selection', 'cash-payment'
            ];

            // è·å–è´­ç‰©è½¦å…ƒç´ 
            const shoppingCart = document.querySelector('.fixed-shopping-cart');

            // åˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦å±äºè´­ç‰©ç¯èŠ‚ï¼Œè‹¥æ˜¯åˆ™æ˜¾ç¤ºè´­ç‰©è½¦ï¼Œå¦åˆ™éšè—
            if (shoppingPages.includes(pageId)) {
                shoppingCart.style.display = 'block';
            } else {
                shoppingCart.style.display = 'none';
            }
        }

        // ä¿®æ”¹ nextPage å‡½æ•°
        function nextPage(currentPage, nextPage) {
            pageHistory.push(currentPage);
            document.getElementById(currentPage).classList.add('hidden');
            document.getElementById(nextPage).classList.remove('hidden');
            if (nextPage === 'reward') {
                showReward();
                // éšè—æ•™å¸ˆæ§åˆ¶æŒ‰é’®
                document.querySelector('.teacher-next-button').style.display = 'none';
            }
            if (nextPage === 'video-intermediate') {
                setIntermediateVideo();
            }        
            // å½“è¿›å…¥ç†Šå”å”ä»‹ç»è§†é¢‘é¡µé¢æ—¶ï¼Œè®¾ç½®è§†é¢‘æ’­æ”¾é€Ÿåº¦
            if (nextPage === 'product-recognition') {
                const bearUncleVideo = document.getElementById('bear-uncle-video');
                if (bearUncleVideo) {
                    // ç›‘å¬ loadedmetadata äº‹ä»¶ï¼Œåœ¨è§†é¢‘å…ƒæ•°æ®åŠ è½½å®Œæˆåè®¾ç½®æ’­æ”¾é€Ÿåº¦
                    bearUncleVideo.playbackRate = 0.75;
                }
            }
            toggleSpeech(nextPage);
            // æ§åˆ¶è´­ç‰©è½¦æ˜¾ç¤º
            toggleShoppingCartVisibility(nextPage); 
        }

        // æ•™å¸ˆæ§åˆ¶ä¸‹ä¸€æ­¥å‡½æ•°
        function teacherNextPage() {
            const currentPage = document.querySelector('.container:not(.hidden)').id;
            const currentIndex = pageOrder.indexOf(currentPage);
            if (currentIndex < pageOrder.length - 1) {
                const nextPageId = pageOrder[currentIndex + 1];
                nextPage(currentPage, nextPageId);
            }
        }

        function toggleSpeech(pageId) {
            const pageElement = document.getElementById(pageId);
            const hasVideo = pageElement.querySelector('video') !== null;
            let elements;
            if (hasVideo) {
                // æœ‰è§†é¢‘çš„é¡µé¢æ’é™¤ h3 å…ƒç´ ï¼ˆå°é—®é¢˜ï¼‰
                elements = document.querySelectorAll(`#${pageId} [data-speech]:not(h3):not(.options button[data-speech])`);
            } else {
                // æ— è§†é¢‘çš„é¡µé¢æ­£å¸¸è·å–æ‰€æœ‰å…ƒç´ 
                elements = document.querySelectorAll(`#${pageId} [data-speech]`);
            }
            const status = document.getElementById(`${pageId}-status`);
            if (synth.speaking) {
                synth.cancel();
                status.textContent = 'å·²åœæ­¢';
                return;
            }
            const voiceSelect = document.getElementById('voice-select');
            const voiceIndex = voiceSelect.value;
            if (voices[voiceIndex]) {
                elements.forEach((element) => {
                    let text = filterSpecialCharacters(element.dataset.speech);
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.voice = voices[voiceIndex];
                    utterance.rate = parseFloat(document.getElementById('rate').value);
                    utterance.pitch = parseFloat(document.getElementById('pitch').value);
                    synth.speak(utterance);
                });
                status.textContent = 'æ­£åœ¨æœ—è¯»...';
                synth.onend = () => {
                    status.textContent = 'å·²å®Œæˆ';
                };
            }
        }

        function changeVoice() {
            const voiceIndex = document.getElementById('voice-select').value;
            const utterance = new SpeechSynthesisUtterance('è¿™æ˜¯æ–°çš„è¯­éŸ³æ•ˆæœã€‚');
            utterance.voice = voices[voiceIndex];
            synth.speak(utterance);
        }

        function updateSpeechRate() {
            const rate = document.getElementById('rate').value;
            document.getElementById('rate-value').textContent = rate;
        }

        function updateSpeechPitch() {
            const pitch = document.getElementById('pitch').value;
            document.getElementById('pitch-value').textContent = pitch;
        }

        function toggleAIVoice() {
            const btn = document.getElementById('ai-voice-btn');
            if (btn.classList.contains('off')) {
                btn.classList.remove('off');
                btn.textContent = 'AIè¯­éŸ³ï¼šå¼€å¯';
            } else {
                btn.classList.add('off');
                btn.textContent = 'AIè¯­éŸ³ï¼šå…³é—­';
            }
        }

       // å®šä¹‰æ¯ç­”å¯¹ä¸€é¢˜è·å¾—çš„å°å¤ªé˜³æ•°é‡
        const REWARD_PER_CORRECT_ANSWER = 1; 

        function checkAnswer(pageId, isCorrect) {
            const feedbackElements = document.querySelectorAll(`#${pageId}-feedback`);
            feedbackElements.forEach((feedback) => {
                const nextButton = document.getElementById(`${pageId}-next`);
                if (isCorrect) {
                    feedback.textContent = 'å›ç­”æ­£ç¡®ï¼å¤ªæ£’å•¦ï¼';
                    feedback.classList.add('correct');
                    feedback.classList.remove('incorrect');
                    if (pageId === 'online-payment-confirm-5') {
                        document.querySelector('#online-payment-confirm-5 .button').style.display = 'inline-block';
                        completeOnlinePayment(); 
                    } else {
                        // æ™®é€šé¢˜ç›®ç­”å¯¹å¢åŠ å°å¤ªé˜³
                        sunRewards += REWARD_PER_CORRECT_ANSWER; 
                    }
                    nextButton.classList.remove('hidden'); 
                } else {
                    feedback.textContent = 'å›ç­”é”™è¯¯ï¼Œå†æƒ³ä¸€æƒ³å“¦ï¼';
                    feedback.classList.add('incorrect');
                    feedback.classList.remove('correct');
                }
                feedback.classList.remove('hidden');
                const voiceIndex = document.getElementById('voice-select').value;
                const utterance = new SpeechSynthesisUtterance(feedback.textContent);
                utterance.voice = voices[voiceIndex];
                synth.speak(utterance);
            });
        }

        function completeOnlinePayment() {
            const feedback = document.getElementById('online-payment-confirm-5-feedback');
            const nextButton = document.getElementById('online-payment-confirm-5-next');
            feedback.textContent = 'çº¿ä¸Šæ”¯ä»˜æˆåŠŸï¼';
            feedback.classList.add('correct');
            feedback.classList.remove('incorrect');
            feedback.classList.remove('hidden');
            sunRewards += 2; 
            nextButton.classList.remove('hidden');
            const voiceIndex = document.getElementById('voice-select').value;
            if (voices[voiceIndex]) {
                const utterance = new SpeechSynthesisUtterance(feedback.textContent);
                utterance.voice = voices[voiceIndex];
                synth.speak(utterance);
            }
        }

     function showReward() {
            const sunRewardCount = document.getElementById('sun-reward-count');
            sunRewardCount.textContent = `ä½ ä¸€å…±è·å¾—äº† ${sunRewards} ä¸ªå°å¤ªé˜³ï¼`;
            const voiceIndex = document.getElementById('voice-select').value;
            if (voices[voiceIndex]) {
                const utterance = new SpeechSynthesisUtterance(sunRewardCount.textContent);
                utterance.voice = voices[voiceIndex];
                synth.speak(utterance);
            }
        }

        function completeOnlinePayment() {
            const feedback = document.getElementById('online-payment-confirm-5-feedback');
            const nextButton = document.getElementById('online-payment-confirm-5-next');
            feedback.textContent = 'çº¿ä¸Šæ”¯ä»˜æˆåŠŸï¼';
            feedback.classList.add('correct');
            feedback.classList.remove('incorrect');
            feedback.classList.remove('hidden');
            sunRewards += 2; // çº¿ä¸Šæ”¯ä»˜æˆåŠŸè·å¾—2ä¸ªå°å¤ªé˜³
            nextButton.classList.remove('hidden');
            const voiceIndex = document.getElementById('voice-select').value;
            if (voices[voiceIndex]) {
                const utterance = new SpeechSynthesisUtterance(feedback.textContent);
                utterance.voice = voices[voiceIndex];
                synth.speak(utterance);
            }
        }

        function showReward() {
            const sunRewardCount = document.getElementById('sun-reward-count');
            sunRewardCount.textContent = `ä½ ä¸€å…±è·å¾—äº† ${sunRewards} ä¸ªå°å¤ªé˜³ï¼`;
            const voiceIndex = document.getElementById('voice-select').value;
            if (voices[voiceIndex]) {
                const utterance = new SpeechSynthesisUtterance(sunRewardCount.textContent);
                utterance.voice = voices[voiceIndex];
                synth.speak(utterance);
            }
        }

        function selectCharacter(character) {
            selectedCharacter = character;
            const characters = document.querySelectorAll('.character');
            characters.forEach((char) => {
                char.classList.remove('selected');
            });
            const selectedChar = document.querySelector(`.character[alt="${character}"]`);
            selectedChar.classList.add('selected');
            document.getElementById('character-selection-next').classList.remove('hidden');
            // è®¾ç½®è§’è‰²è§†é¢‘é¡µé¢å†…å®¹
            const characterVideoTitle = document.getElementById('character-video-title');
            const characterVideoSource = document.getElementById('character-video-source');
            characterVideoTitle.textContent = `${character} æ¥å•¦ï¼`;
            switch(character) {
                case 'å°çŒ«':
                    characterVideoSource.src = 'https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E5%B0%8F%E7%8C%AB%E4%BB%8B%E7%BB%8D%E8%A7%86%E9%A2%91.mp4';
                    break;
                case 'å°ç‹—':
                    characterVideoSource.src = 'https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E5%B0%8F%E7%8B%97%E4%BB%8B%E7%BB%8D1.mp4';
                    break;
                case 'å°å…”':
                    characterVideoSource.src = 'https://cdn.hailuoai.com/prod/2025-05-15-14/video/1747289193905894622-video_watermark_ff401e83153d9b0928fd4d1ff29193fe_379303295448248324.mp4';
                    break;
                case 'å°ç†Š':
                    characterVideoSource.src = 'https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E5%B0%8F%E7%86%8A.mp4';
                    break;
            }
            const characterVideo = document.getElementById('character-video-source').parentElement;
            characterVideo.load();
        }

        function addToCart(itemName, price) {
            const existingItem = cart.find(item => item.name === itemName);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ name: itemName, price: price, quantity: 1 });
            }
            updateCart();
        }

        function calculateSectionTotal(section) {
            let total = 0;
            cart.forEach(item => {
                if (
                    (section === 'æ°´æœåŒº' && ['è‹¹æœ', 'é¦™è•‰', 'æ©™å­', 'è‰è“'].includes(item.name)) ||
                    (section === 'é›¶é£ŸåŒº' && ['è–¯ç‰‡', 'å·§å…‹åŠ›', 'é¥¼å¹²', 'é…¸å¥¶'].includes(item.name)) ||
                    (section === 'å­¦ä¹ ç”¨å“åŒº' && ['é“…ç¬”', 'æ©¡çš®', 'å°ºå­', 'ç¬”è®°æœ¬'].includes(item.name))
                ) {
                    total += item.price * item.quantity;
                }
            });
            return total;
        }

        function updateCart() {
        const cartItemsDivFruit = document.getElementById('cart-items-fruit');
        const cartItemsDivSnack = document.getElementById('cart-items-snack');
        const cartItemsDivStationery = document.getElementById('cart-items-stationery');
        const cartItemsDivAll = document.getElementById('cart-items-all');
        const cartTotalSpanFruit = document.getElementById('cart-total-fruit');
        const cartTotalSpanSnack = document.getElementById('cart-total-snack');
        const cartTotalSpanStationery = document.getElementById('cart-total-stationery');
        const cartTotalSpanAll = document.getElementById('cart-total-all');
        // æ–°å¢å›ºå®šè´­ç‰©è½¦ç›¸å…³å…ƒç´ 
        const fixedCartItemsDiv = document.getElementById('fixed-cart-items');
        const fixedCartTotalSpan = document.getElementById('fixed-cart-total');
        let total = 0;

        cartItemsDivFruit.innerHTML = '';
        cartItemsDivSnack.innerHTML = '';
        cartItemsDivStationery.innerHTML = '';
        cartItemsDivAll.innerHTML = '';
        // æ¸…ç©ºå›ºå®šè´­ç‰©è½¦å†…å®¹
        fixedCartItemsDiv.innerHTML = '';

        cart.forEach(item => {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'cart-item';
            itemDiv.innerHTML = `
                <span>${item.name}</span>
                <span>å•ä»·: ${item.price} å…ƒ</span>
                <span>æ•°é‡: ${item.quantity}</span>
                <span>å°è®¡: ${item.price * item.quantity} å…ƒ</span>
            `;
            const clonedItemDiv = itemDiv.cloneNode(true);
            cartItemsDivAll.appendChild(itemDiv);
            total += item.price * item.quantity;

            if (item.name === 'è‹¹æœ' || item.name === 'é¦™è•‰' || item.name === 'æ©™å­' || item.name === 'è‰è“') {
                cartItemsDivFruit.appendChild(clonedItemDiv.cloneNode(true));
            } else if (item.name === 'è–¯ç‰‡' || item.name === 'å·§å…‹åŠ›' || item.name === 'é¥¼å¹²' || item.name === 'é…¸å¥¶') {
                cartItemsDivSnack.appendChild(clonedItemDiv.cloneNode(true));
            } else if (item.name === 'é“…ç¬”' || item.name === 'æ©¡çš®' || item.name === 'å°ºå­' || item.name === 'ç¬”è®°æœ¬') {
                cartItemsDivStationery.appendChild(clonedItemDiv.cloneNode(true));
            }
            // å°†å•†å“æ·»åŠ åˆ°å›ºå®šè´­ç‰©è½¦
            fixedCartItemsDiv.appendChild(itemDiv.cloneNode(true));
        });

        cartTotalSpanFruit.textContent = calculateSectionTotal('æ°´æœåŒº');
        cartTotalSpanSnack.textContent = calculateSectionTotal('é›¶é£ŸåŒº');
        cartTotalSpanStationery.textContent = calculateSectionTotal('å­¦ä¹ ç”¨å“åŒº');
        cartTotalSpanAll.textContent = total;
        // æ›´æ–°å›ºå®šè´­ç‰©è½¦æ€»ä»·
        fixedCartTotalSpan.textContent = total;
        totalPrice = total;
        const cashPaymentTotal = document.getElementById('cash-payment-total');
        cashPaymentTotal.textContent = `ä½ é€‰æ‹©çš„å•†å“æ€»ä»·æ˜¯ ${totalPrice} å…ƒã€‚`;
    }

    
         function removeFromCart(itemName, price, event) {
            event.stopPropagation(); // é˜»æ­¢äº‹ä»¶å†’æ³¡
            const existingItem = cart.find(item => item.name === itemName);
            if (existingItem) {
                if (existingItem.quantity > 1) {
                    existingItem.quantity--;
                } else {
                    const index = cart.indexOf(existingItem);
                    cart.splice(index, 1);
                }
                updateCart();
            }
        }

        function selectPayment(method) {
            selectedPaymentMethod = method;
            pageHistory.push('payment-selection');
            if (method === 'cash') {
                document.getElementById('payment-selection').classList.add('hidden');
                document.getElementById('cash-payment').classList.remove('hidden');
                toggleSpeech('cash-payment');
            } else if (method === 'online') {
                document.getElementById('payment-selection').classList.add('hidden');
                document.getElementById('online-payment-confirm-1').classList.remove('hidden');
                toggleSpeech('online-payment-confirm-1');
            }
        }

        // å¢åŠ é’ç¥¨æ•°é‡å‡½æ•°
        function increaseMoney(denomination) {
            const countElement = document.getElementById(`${denomination}-count`);
            let count = parseInt(countElement.textContent);
            count++;
            countElement.textContent = count;
        }

        // å‡å°‘é’ç¥¨æ•°é‡å‡½æ•°
        function decreaseMoney(denomination) {
            const countElement = document.getElementById(`${denomination}-count`);
            let count = parseInt(countElement.textContent);
            if (count > 0) {
                count--;
                countElement.textContent = count;
            }
        }

        function checkCashPayment() {
            const oneYuanCount = parseInt(document.getElementById('1-yuan-count').textContent);
            const fiveYuanCount = parseInt(document.getElementById('5-yuan-count').textContent);
            const tenYuanCount = parseInt(document.getElementById('10-yuan-count').textContent);
            const twentyYuanCount = parseInt(document.getElementById('20-yuan-count').textContent);
            const fiftyYuanCount = parseInt(document.getElementById('50-yuan-count').textContent);

            const totalGiven = oneYuanCount * 1 + fiveYuanCount * 5 + tenYuanCount * 10 + twentyYuanCount * 20 + fiftyYuanCount * 50;
            const change = totalGiven - totalPrice;
            const feedback = document.getElementById('cash-payment-feedback');
            const changeDiv = document.getElementById('cash-payment-change');
            const nextButton = document.getElementById('cash-payment-next');

            if (totalGiven === totalPrice) {
                feedback.textContent = 'æ”¯ä»˜æ­£ç¡®ï¼Œäº¤æ˜“æˆåŠŸï¼';
                feedback.classList.add('correct');
                feedback.classList.remove('incorrect');
                changeDiv.textContent = 'æ— éœ€æ‰¾é›¶ã€‚';
                sunRewards += 2; // æ­£ç¡®æ”¯ä»˜è·å¾—2ä¸ªå°å¤ªé˜³
                nextButton.classList.remove('hidden');
            } else if (totalGiven > totalPrice) {
                feedback.textContent = 'æ”¯ä»˜é‡‘é¢è¿‡å¤šï¼Œäº¤æ˜“æˆåŠŸï¼';
                feedback.classList.add('correct');
                feedback.classList.remove('incorrect');
                changeDiv.textContent = `åº”æ‰¾é›¶ ${change} å…ƒã€‚`;
                sunRewards += 1; // æ”¯ä»˜é‡‘é¢è¿‡å¤šè·å¾—1ä¸ªå°å¤ªé˜³
                nextButton.classList.remove('hidden');
            } else {
                feedback.textContent = 'æ”¯ä»˜é‡‘é¢ä¸è¶³ï¼Œè¯·é‡æ–°é€‰æ‹©ã€‚';
                feedback.classList.add('incorrect');
                feedback.classList.remove('correct');
                changeDiv.textContent = '';
            }
            feedback.classList.remove('hidden');
            const voiceIndex = document.getElementById('voice-select').value;
            const utterance = new SpeechSynthesisUtterance(feedback.textContent + ' ' + changeDiv.textContent);
            utterance.voice = voices[voiceIndex];
            synth.speak(utterance);
        }

        function completeOnlinePayment() {
            const feedback = document.getElementById('online-payment-confirm-feedback');
            const nextButton = document.getElementById('online-payment-confirm-5-next');
            feedback.textContent = 'çº¿ä¸Šæ”¯ä»˜æˆåŠŸï¼';
            feedback.classList.add('correct');
            feedback.classList.remove('incorrect');
            feedback.classList.remove('hidden');
            sunRewards += 2; // çº¿ä¸Šæ”¯ä»˜æˆåŠŸè·å¾—2ä¸ªå°å¤ªé˜³
            nextButton.classList.remove('hidden');
            const voiceIndex = document.getElementById('voice-select').value;
            const utterance = new SpeechSynthesisUtterance(feedback.textContent);
            utterance.voice = voices[voiceIndex];
            synth.speak(utterance);
        }

        function restartGame() {
            // é‡ç½®æ‰€æœ‰çŠ¶æ€
            selectedCharacter = null;
            selectedItems = [];
            totalPrice = 0;
            selectedPaymentMethod = null;
            cart = [];
            sunRewards = 0;
            pageHistory = [];

            // éšè—æ‰€æœ‰é¡µé¢
            const allPages = document.querySelectorAll('.container');
            allPages.forEach((page) => {
                page.classList.add('hidden');
            });

            // æ˜¾ç¤ºæ¬¢è¿é¡µé¢
            document.getElementById('welcome').classList.remove('hidden');
            // éšè—æ•™å¸ˆæ§åˆ¶æŒ‰é’®
            document.querySelector('.teacher-next-button').style.display = 'none';

            // é‡ç½®è´­ç‰©è½¦æ˜¾ç¤º
            const cartItemsDivFruit = document.getElementById('cart-items-fruit');
            const cartItemsDivSnack = document.getElementById('cart-items-snack');
            const cartItemsDivStationery = document.getElementById('cart-items-stationery');
            const cartItemsDivAll = document.getElementById('cart-items-all');
            const cartTotalSpanFruit = document.getElementById('cart-total-fruit');
            const cartTotalSpanSnack = document.getElementById('cart-total-snack');
            const cartTotalSpanStationery = document.getElementById('cart-total-stationery');
            const cartTotalSpanAll = document.getElementById('cart-total-all');
            const cashPaymentTotal = document.getElementById('cash-payment-total');

            cartItemsDivFruit.innerHTML = '';
            cartItemsDivSnack.innerHTML = '';
            cartItemsDivStationery.innerHTML = '';
            cartItemsDivAll.innerHTML = '';
            cartTotalSpanFruit.textContent = '0';
            cartTotalSpanSnack.textContent = '0';
            cartTotalSpanStationery.textContent = '0';
            cartTotalSpanAll.textContent = '0';
            cashPaymentTotal.textContent = '';

            // é‡ç½®ç°é‡‘æ”¯ä»˜ç›¸å…³è®¡æ•°
            document.getElementById('1-yuan-count').textContent = '0';
            document.getElementById('5-yuan-count').textContent = '0';
            document.getElementById('10-yuan-count').textContent = '0';
            document.getElementById('20-yuan-count').textContent = '0';
            document.getElementById('50-yuan-count').textContent = '0';

            // é‡ç½®åé¦ˆä¿¡æ¯
            const feedbackElements = document.querySelectorAll('.feedback');
            feedbackElements.forEach((element) => {
                element.textContent = '';
                element.classList.add('hidden');
            });
        }

        // åœ¨å¥–åŠ±é¡µé¢æ˜¾ç¤ºå°å¤ªé˜³ä¸ªæ•°
        function showReward() {
            const sunRewardCount = document.getElementById('sun-reward-count');
            sunRewardCount.textContent = `ä½ ä¸€å…±è·å¾—äº† ${sunRewards} ä¸ªå°å¤ªé˜³ï¼`;
            const voiceIndex = document.getElementById('voice-select').value;
            const utterance = new SpeechSynthesisUtterance(sunRewardCount.textContent);
            utterance.voice = voices[voiceIndex];
            synth.speak(utterance);
        }

        // ä¿®æ”¹ goBack å‡½æ•°
        function goBack() {
            if (pageHistory.length > 0) {
                const prevPage = pageHistory.pop();
                const currentPage = document.querySelector('.container:not(.hidden)').id;
                document.getElementById(currentPage).classList.add('hidden');
                document.getElementById(prevPage).classList.remove('hidden');
                toggleSpeech(prevPage);
                // æ§åˆ¶è´­ç‰©è½¦æ˜¾ç¤º
                toggleShoppingCartVisibility(prevPage); 
            }
        }

        // è®¾ç½®ç»“ç®—å‰å°è§†é¢‘
        function setIntermediateVideo() {
            const intermediateVideoSource = document.getElementById('intermediate-video-source');
            switch(selectedCharacter) {
                case 'å°çŒ«':
                    intermediateVideoSource.src = 'https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E5%B0%8F%E7%8C%AB%E7%BB%93%E7%AE%97.mp4';
                    break;
                case 'å°ç‹—':
                    intermediateVideoSource.src = 'https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/ccdb81c919a98254293cb9c0cdaaaa135bc1f170/%E5%B0%8F%E7%8B%97%E7%BB%93%E8%B4%A6%E8%A7%86%E9%A2%91.mp4';
                    break;
                case 'å°å…”':
                    intermediateVideoSource.src = 'https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E5%BE%AE%E4%BF%A1%E8%A7%86%E9%A2%912025-05-22_135247_188.mp4';
                    break;
                case 'å°ç†Š':
                    intermediateVideoSource.src = 'https://raw.githubusercontent.com/Peeeee5/video-for-assignment-/main/%E5%B0%8F%E7%86%8A%E6%94%AF%E4%BB%98.mp4';
                    break;
                default:
                    intermediateVideoSource.src = 'https://example.com/intermediate-video.mp4';
            }
            const intermediateVideo = document.getElementById('intermediate-video-source').parentElement;
            intermediateVideo.load();
        }

        // å®šä¹‰å‡½æ•°ï¼Œç”¨äºåœ¨è§†é¢‘ç»“æŸåæœ—è¯»äº’åŠ¨é¢˜ç›®å’Œé€‰é¡¹
        function readQuestionAfterVideo(pageId) {
            const questionElement = document.querySelector(`#${pageId} h3[data-speech]`);
            const optionButtons = document.querySelectorAll(`#${pageId} .options button[data-speech]`);
            const voiceIndex = document.getElementById('voice-select').value;

            // æœ—è¯»äº’åŠ¨é—®é¢˜
            if (questionElement) {
                const questionText = filterSpecialCharacters(questionElement.dataset.speech);
                const questionUtterance = new SpeechSynthesisUtterance(questionText);
                questionUtterance.voice = voices[voiceIndex];
                questionUtterance.rate = parseFloat(document.getElementById('rate').value);
                questionUtterance.pitch = parseFloat(document.getElementById('pitch').value);
                synth.speak(questionUtterance);

                // ç­‰å¾…é—®é¢˜æœ—è¯»å®Œæˆåå†æœ—è¯»é€‰é¡¹
                questionUtterance.onend = () => {
                    let prevUtterance = null;
                    // æœ—è¯»äº’åŠ¨é€‰é¡¹
                    optionButtons.forEach((button, index) => {
                        const optionText = `${index + 1}. ${filterSpecialCharacters(button.dataset.speech)}`;
                        const optionUtterance = new SpeechSynthesisUtterance(optionText);
                        optionUtterance.voice = voices[voiceIndex];
                        optionUtterance.rate = parseFloat(document.getElementById('rate').value);
                        optionUtterance.pitch = parseFloat(document.getElementById('pitch').value);

                        if (prevUtterance) {
                            prevUtterance.onend = () => {
                                synth.speak(optionUtterance);
                            };
                        } else {
                            synth.speak(optionUtterance);
                        }
                        prevUtterance = optionUtterance;
                    });
                };
            }
        }


        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', () => {
            populateVoices();
            const allPages = document.querySelectorAll('.container');
            allPages.forEach((page) => {
                page.classList.add('hidden');
            });
            document.getElementById('welcome').classList.remove('hidden');
            // éšè—æ•™å¸ˆæ§åˆ¶æŒ‰é’®
            document.querySelector('.teacher-next-button').style.display = 'none';
            // åˆå§‹åŒ–æ—¶æ’­æ”¾æ¬¢è¿é¡µè¯­éŸ³
            setTimeout(() => {
                toggleSpeech('welcome');
            }, 500); // å»¶è¿Ÿ 500ms ç¡®ä¿è¯­éŸ³åˆ—è¡¨å·²åŠ è½½
             // ç»™æ‰€æœ‰çº¿ä¸Šæ”¯ä»˜ç›¸å…³è§†é¢‘æ·»åŠ  muted å±æ€§
             const onlinePaymentVideos = document.querySelectorAll([
                '#online-payment-1 video',
                '#online-payment-2 video',
                '#online-payment-3 video',
                '#online-payment-4 video',
                '#online-payment-5 video'
            ].join(','));
             onlinePaymentVideos.forEach(video => {
                video.muted = true;
            });

             // ç»™æ‰€æœ‰è§†é¢‘å…ƒç´ æ·»åŠ  ended äº‹ä»¶ç›‘å¬å™¨
            const videos = document.querySelectorAll('video');
            videos.forEach(video => {
                const pageId = video.closest('.container').id;
                video.addEventListener('ended', () => {
                    readQuestionAfterVideo(pageId);
                });
                 // åˆå§‹åŒ–è´­ç‰©è½¦æ˜¾ç¤º
            toggleShoppingCartVisibility('welcome'); 
            });
        });
    </script>
</body>
</html>