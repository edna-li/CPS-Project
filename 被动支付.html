<!doctype html>
<html lang="zh">
<head>
<meta charset="utf-8">
<title>å¾®ä¿¡æ”¯ä»˜æ•™å­¦æ¨¡æ‹Ÿ</title>
<style>
body { font-family: Arial, sans-serif; text-align:center; background:#f5f5f5; margin:0; padding:0; }
h1 { margin-top:20px; }
.page { display:none; }
.active { display:block; }

/* æ‰‹æœºå¤–è§‚ */
#phone {
  width:200px; height:400px; border:4px solid #333; border-radius:20px;
  background:#fafafa; margin:20px auto; padding:10px;
}
.menu-item {
  margin:10px; padding:10px; border:1px solid #ccc; border-radius:6px;
}
.menu-item.clickable {
  background:#09bb07; color:#fff; cursor:pointer;
}
#screen {
  width:160px; height:260px; background:#fff; margin:20px auto; border-radius:8px;
  display:flex; justify-content:center; align-items:center; text-align:center;
  padding:8px; font-size:16px;
}

/* æ‰«ç ä»ª */
#scanner {
  width:180px; height:240px; border:3px dashed #333; border-radius:12px;
  background:#eee; display:inline-flex; justify-content:center; align-items:center;
  margin:20px; font-size:16px;
}

/* é‡‘é¢ç¡®è®¤ */
#amountCheck { font-size:22px; margin:20px 0; }
#confirmBtn {
  background:#09bb07; color:#fff; padding:10px 20px; font-size:18px;
  border:none; border-radius:6px; cursor:pointer;
}
#successMsg { font-size:26px; color:#09bb07; margin-top:40px; }
</style>
</head>
<body>

<h1>å¾®ä¿¡æ”¯ä»˜æ•™å­¦æ¨¡æ‹Ÿ</h1>

<!-- ç¬¬ä¸€æ­¥ï¼šæ‰¾åˆ°æ”¶ä»˜æ¬¾ -->
<div id="page-menu" class="page active">
  <p>è¯·åœ¨æ‰‹æœºä¸Šç‚¹å‡»ã€æ”¶ä»˜æ¬¾ã€‘</p>
  <div id="phone">
    <div class="menu-item">å‘èµ·ç¾¤èŠ</div>
    <div class="menu-item">æ·»åŠ æœ‹å‹</div>
    <div class="menu-item">æ‰«ä¸€æ‰«</div>
    <div class="menu-item clickable" onclick="goToPayCode()">æ”¶ä»˜æ¬¾</div>
  </div>
</div>

<!-- ç¬¬äºŒæ­¥ï¼šæ˜¾ç¤ºä»˜æ¬¾ç  -->
<div id="page-code" class="page">
  <p>è¿™æ˜¯ä½ çš„ä»˜æ¬¾ç ï¼Œè¯·å°†æ‰‹æœºæ‹–åˆ°æ‰«ç ä»ªå‰</p>
  <div style="display:flex; justify-content:center; align-items:center; margin-top:20px;">
    <div id="phone" draggable="true">
      <div id="screen">
        <img src="https://api.qrserver.com/v1/create-qr-code/?data=PayHere&size=120x120" alt="ä»˜æ¬¾ç ">
        <p>æˆ‘çš„ä»˜æ¬¾ç </p>
      </div>
    </div>
    <div id="scanner">æ‰«ç ä»ª</div>
  </div>
  <div id="scanMsg" style="font-size:22px; color:#09bb07; margin-top:20px; display:none;">
    ğŸ”„ æ‰«ç ä¸­...
  </div>
</div>

<!-- ç¬¬ä¸‰æ­¥ï¼šæ ¸å¯¹é‡‘é¢ -->
<div id="page-amount" class="page">
  <p>è¯·æ ¸å¯¹æ”¯ä»˜é‡‘é¢</p>
  <div id="amountCheck">æ”¯ä»˜é‡‘é¢ï¼š<b>10 å…ƒ</b></div>
  <button id="confirmBtn" onclick="confirmPay()">ç¡®è®¤æ”¯ä»˜</button>
</div>

<!-- ç¬¬å››æ­¥ï¼šæ”¯ä»˜æˆåŠŸ -->
<div id="page-success" class="page">
  <div id="successMsg">âœ… æ”¯ä»˜æˆåŠŸï¼</div>
</div>

<script>
function switchPage(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// ç‚¹å‡»æ”¶ä»˜æ¬¾
function goToPayCode(){
  alert("âœ… ä½ ç‚¹å‡»äº†æ”¶ä»˜æ¬¾ï¼");
  switchPage("page-code");
}

// æ‹–æ‹½æ‰«ç 
const phone = document.querySelector("#page-code #phone");
const scanner = document.getElementById("scanner");
const screen = document.getElementById("screen");
const scanMsg = document.getElementById("scanMsg");

phone.addEventListener("dragstart", (e)=> {
  e.dataTransfer.setData("text/plain","phone");
});
scanner.addEventListener("dragover", (e)=> e.preventDefault());
scanner.addEventListener("drop", (e)=> {
  e.preventDefault();
  scanMsg.style.display="block";
  screen.innerHTML = "ğŸ”„ æ‰«ç ä¸­...";
  setTimeout(()=>{
    screen.innerHTML = "âœ… æ‰«ç æˆåŠŸ";
    scanMsg.innerText = "âœ… æ‰«ç å®Œæˆï¼";
    setTimeout(()=> switchPage("page-amount"), 1000);
  },1500);
});

// ç¡®è®¤æ”¯ä»˜
function confirmPay(){
  switchPage("page-success");
}
</script>

</body>
</html>
